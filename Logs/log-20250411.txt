2025-04-11 11:02:31.439 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 11:03:20.966 +03:00 [INF] Giriş denemesi: admin
2025-04-11 11:03:21.079 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 11:03:21.079 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 11:03:21.079 +03:00 [INF] Yönlendirme adresi: /
2025-04-11 11:03:21.080 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-11 11:03:21.200 +03:00 [INF] Aktif session bulundu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 11:03:21.201 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-11 11:03:21.201 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 12:35:17.965 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 12:35:30.701 +03:00 [INF] Giriş denemesi: admin
2025-04-11 12:35:30.799 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 12:35:30.799 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 12:35:30.799 +03:00 [INF] Yönlendirme adresi: /
2025-04-11 12:35:30.799 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-11 12:35:30.890 +03:00 [INF] Aktif session bulundu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 12:35:30.891 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-11 12:35:30.891 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 12:41:53.341 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'HataMesaji', table 'MuhasebeStokDB.dbo.SistemLoglar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee3a0de-d72c-454a-aa7b-67c1efdbc260
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'HataMesaji', table 'MuhasebeStokDB.dbo.SistemLoglar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee3a0de-d72c-454a-aa7b-67c1efdbc260
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 12:41:53.343 +03:00 [ERR] Ürün silme logu oluşturulurken hata: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'HataMesaji', table 'MuhasebeStokDB.dbo.SistemLoglar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee3a0de-d72c-454a-aa7b-67c1efdbc260
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.UrunSilmeLogOlustur(Guid urunID, String urunAdi, String aciklama) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 731
2025-04-11 12:55:04.739 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 12:56:30.958 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-11 12:56:30.965 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 12:56:47.269 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-11 12:56:47.273 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-11 12:56:47.668 +03:00 [INF] Received HTTP response headers after 393.1846ms - 200
2025-04-11 12:56:47.674 +03:00 [INF] End processing HTTP request after 410.0782ms - 200
2025-04-11 12:58:44.725 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 12:58:44.737 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 12:58:44.753 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 12:58:44.754 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 12:58:44.765 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 12:58:44.924 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 12:58:44.937 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 12:59:02.354 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 12:59:02.373 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 12:59:10.237 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=07c68ed3-5de9-468b-92d1-4d9727edb3c1, Ad=Çerçeve Birleştirme Elemanı, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:05:39.474 +03:00 [INF] Giriş denemesi: admin
2025-04-11 13:05:39.553 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 13:05:39.553 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 13:05:39.553 +03:00 [INF] Yönlendirme adresi: /Fatura/Index
2025-04-11 13:05:39.553 +03:00 [INF] Admin kullanıcısı /Fatura/Index adresine yönlendiriliyor
2025-04-11 13:05:42.142 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:05:42.147 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:05:42.153 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:05:42.154 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:05:42.157 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:05:42.246 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:05:42.254 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:05:55.416 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:05:55.435 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:18:42.407 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 13:19:05.041 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 970e081c-64f7-44eb-8eeb-6673e18bb658, Fatura
2025-04-11 13:19:05.109 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 970e081c-64f7-44eb-8eeb-6673e18bb658, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:19:05.109 +03:00 [INF] Çıkış faturası FIFO kayıtları iptal edildi: FaturaID=970e081c-64f7-44eb-8eeb-6673e18bb658
2025-04-11 13:19:05.131 +03:00 [INF] İlişkili cari hareket silinmiş olarak işaretleniyor: ID=b3213c5e-d065-4b9c-9b02-bb1c299626ce
2025-04-11 13:19:12.462 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 882de1ee-fd09-4463-a76c-f16b9c6b4f98, Fatura
2025-04-11 13:19:12.471 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 882de1ee-fd09-4463-a76c-f16b9c6b4f98, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:19:12.471 +03:00 [INF] Çıkış faturası FIFO kayıtları iptal edildi: FaturaID=882de1ee-fd09-4463-a76c-f16b9c6b4f98
2025-04-11 13:19:12.474 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=882de1ee-fd09-4463-a76c-f16b9c6b4f98
2025-04-11 13:19:17.908 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 58e4c75e-c529-4626-b7d6-0027a32781e9, Fatura
2025-04-11 13:19:17.913 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 58e4c75e-c529-4626-b7d6-0027a32781e9, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:19:17.914 +03:00 [INF] Çıkış faturası FIFO kayıtları iptal edildi: FaturaID=58e4c75e-c529-4626-b7d6-0027a32781e9
2025-04-11 13:19:17.915 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=58e4c75e-c529-4626-b7d6-0027a32781e9
2025-04-11 13:19:27.195 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 9348527e-3e17-4623-a60a-023953729892, Fatura
2025-04-11 13:19:27.258 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 9348527e-3e17-4623-a60a-023953729892, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 13:19:27.258 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=9348527e-3e17-4623-a60a-023953729892
2025-04-11 13:19:27.259 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=9348527e-3e17-4623-a60a-023953729892
2025-04-11 13:19:30.607 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 480610cd-645c-4acc-9250-17fda6fff825, Fatura
2025-04-11 13:19:30.617 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 480610cd-645c-4acc-9250-17fda6fff825, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 13:19:30.617 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=480610cd-645c-4acc-9250-17fda6fff825
2025-04-11 13:19:30.620 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=480610cd-645c-4acc-9250-17fda6fff825
2025-04-11 13:19:35.134 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: cbfa34f7-2e2d-4fc2-8c4f-2b36fcc6c7bf, Fatura
2025-04-11 13:19:35.139 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: cbfa34f7-2e2d-4fc2-8c4f-2b36fcc6c7bf, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:19:35.140 +03:00 [INF] Çıkış faturası FIFO kayıtları iptal edildi: FaturaID=cbfa34f7-2e2d-4fc2-8c4f-2b36fcc6c7bf
2025-04-11 13:19:35.142 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=cbfa34f7-2e2d-4fc2-8c4f-2b36fcc6c7bf
2025-04-11 13:19:39.890 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: bac1cca6-123d-4638-976d-45c39dcf0560, Fatura
2025-04-11 13:19:39.895 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: bac1cca6-123d-4638-976d-45c39dcf0560, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:19:39.896 +03:00 [INF] Çıkış faturası FIFO kayıtları iptal edildi: FaturaID=bac1cca6-123d-4638-976d-45c39dcf0560
2025-04-11 13:19:39.899 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=bac1cca6-123d-4638-976d-45c39dcf0560
2025-04-11 13:19:44.641 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 964bc741-43fa-4b47-a27f-50f017c09f63, Fatura
2025-04-11 13:19:44.647 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 964bc741-43fa-4b47-a27f-50f017c09f63, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:19:44.648 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=964bc741-43fa-4b47-a27f-50f017c09f63
2025-04-11 13:19:44.649 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=964bc741-43fa-4b47-a27f-50f017c09f63
2025-04-11 13:19:50.659 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 463b910b-dbb5-4c30-ad45-6f99285c9105, Fatura
2025-04-11 13:19:50.673 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 463b910b-dbb5-4c30-ad45-6f99285c9105, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 13:19:50.673 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=463b910b-dbb5-4c30-ad45-6f99285c9105
2025-04-11 13:19:50.676 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=463b910b-dbb5-4c30-ad45-6f99285c9105
2025-04-11 13:19:56.320 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 71c3166d-7b15-451a-ad5d-719663101239, Fatura
2025-04-11 13:19:56.326 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 71c3166d-7b15-451a-ad5d-719663101239, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 13:19:56.326 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=71c3166d-7b15-451a-ad5d-719663101239
2025-04-11 13:19:56.328 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=71c3166d-7b15-451a-ad5d-719663101239
2025-04-11 13:19:59.370 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: e6295ac0-1df0-4f82-a572-86f5530f28ba, Fatura
2025-04-11 13:19:59.381 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: e6295ac0-1df0-4f82-a572-86f5530f28ba, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 13:19:59.382 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=e6295ac0-1df0-4f82-a572-86f5530f28ba
2025-04-11 13:19:59.384 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=e6295ac0-1df0-4f82-a572-86f5530f28ba
2025-04-11 13:20:03.688 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 8902f177-dd06-4ae3-8d78-9a0c5231120d, Fatura
2025-04-11 13:20:03.696 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 8902f177-dd06-4ae3-8d78-9a0c5231120d, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 13:20:03.696 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=8902f177-dd06-4ae3-8d78-9a0c5231120d
2025-04-11 13:20:03.697 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=8902f177-dd06-4ae3-8d78-9a0c5231120d
2025-04-11 13:20:07.330 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: b0292559-427a-4915-91fa-a96bf9a798b8, Fatura
2025-04-11 13:20:07.341 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: b0292559-427a-4915-91fa-a96bf9a798b8, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 13:20:07.341 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=b0292559-427a-4915-91fa-a96bf9a798b8
2025-04-11 13:20:07.344 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=b0292559-427a-4915-91fa-a96bf9a798b8
2025-04-11 13:20:14.527 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: a4ab384b-6f03-411d-a5a5-aac7dc78e82d, Fatura
2025-04-11 13:20:14.533 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: a4ab384b-6f03-411d-a5a5-aac7dc78e82d, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:20:14.533 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=a4ab384b-6f03-411d-a5a5-aac7dc78e82d
2025-04-11 13:20:14.535 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=a4ab384b-6f03-411d-a5a5-aac7dc78e82d
2025-04-11 13:20:18.147 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: c7f57ffa-bbed-4453-a1af-b6abce3dbc42, Fatura
2025-04-11 13:20:18.156 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: c7f57ffa-bbed-4453-a1af-b6abce3dbc42, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:20:18.156 +03:00 [INF] Çıkış faturası FIFO kayıtları iptal edildi: FaturaID=c7f57ffa-bbed-4453-a1af-b6abce3dbc42
2025-04-11 13:20:18.158 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=c7f57ffa-bbed-4453-a1af-b6abce3dbc42
2025-04-11 13:20:22.370 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 221f9191-4dd8-489e-ab4e-d2b8d603175f, Fatura
2025-04-11 13:20:22.381 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 221f9191-4dd8-489e-ab4e-d2b8d603175f, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 13:20:22.381 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=221f9191-4dd8-489e-ab4e-d2b8d603175f
2025-04-11 13:20:22.384 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=221f9191-4dd8-489e-ab4e-d2b8d603175f
2025-04-11 13:20:25.905 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: c127d8c2-43ad-4015-8401-ea0b794e618a, Fatura
2025-04-11 13:20:25.914 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: c127d8c2-43ad-4015-8401-ea0b794e618a, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:20:25.915 +03:00 [INF] Çıkış faturası FIFO kayıtları iptal edildi: FaturaID=c127d8c2-43ad-4015-8401-ea0b794e618a
2025-04-11 13:20:25.917 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=c127d8c2-43ad-4015-8401-ea0b794e618a
2025-04-11 13:20:30.816 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 1658e213-a382-468d-be8a-fabf847bbd53, Fatura
2025-04-11 13:20:30.822 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 1658e213-a382-468d-be8a-fabf847bbd53, Tür: Fatura, İptal edilen kayıt sayısı: 0
2025-04-11 13:20:30.823 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=1658e213-a382-468d-be8a-fabf847bbd53
2025-04-11 13:20:30.824 +03:00 [WRN] Fatura için ilişkili cari hareket bulunamadı: FaturaID=1658e213-a382-468d-be8a-fabf847bbd53
2025-04-11 13:20:40.456 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:20:40.469 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:20:40.482 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:20:40.483 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:20:40.503 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:20:40.653 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:23:59.374 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:23:59.379 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:23:59.383 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:23:59.383 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:23:59.387 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:23:59.480 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:24:02.202 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:31:48.276 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=07c68ed3-5de9-468b-92d1-4d9727edb3c1, Ad=Çerçeve Birleştirme Elemanı, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:32:54.279 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 13:32:58.688 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-11 13:32:58.690 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 13:33:01.830 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-11 13:33:01.830 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 13:33:13.553 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:33:13.567 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:33:13.581 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:33:13.582 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:33:13.593 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:33:13.755 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:33:13.776 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:33:26.018 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:33:26.020 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:33:26.023 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:33:26.023 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:33:26.026 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:33:26.112 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:33:26.124 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:33:29.490 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:33:29.516 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:33:34.651 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=0bf652e1-367b-496a-b83b-920dcc94f544, Ad=Çerçeve Birleştirme Elemanı, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:33:56.307 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 13:33:56.308 +03:00 [WRN] Step 2 - ModelState geçersiz, validation hataları var
2025-04-11 13:33:56.325 +03:00 [ERR] Hata: 00-63e5f38a0217d0cfd6a9a26707e3d507-1c8d18d40ddc8c6b-00, Kullanıcı: admin, Path: /Fatura/Create, Method: POST, QueryString: , IP: ::1, UserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Fatura_Create.<ExecuteAsync>b__42_43() in /Users/muhammetkocaman/MuhasebeStokWebApp/Views/Fatura/Create.cshtml:line 112
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at AspNetCoreGeneratedDocument.Views_Fatura_Create.<ExecuteAsync>b__42_1()
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_Fatura_Create.ExecuteAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Views/Fatura/Create.cshtml:line 51
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at MuhasebeStokWebApp.Middleware.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/muhammetkocaman/MuhasebeStokWebApp/Middleware/GlobalExceptionHandlingMiddleware.cs:line 31
2025-04-11 13:37:01.970 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 13:37:09.696 +03:00 [INF] Giriş denemesi: admin
2025-04-11 13:37:09.800 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 13:37:09.800 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 13:37:09.800 +03:00 [INF] Yönlendirme adresi: /
2025-04-11 13:37:09.800 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-11 13:37:09.906 +03:00 [INF] Aktif session bulundu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 13:37:09.907 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-11 13:37:09.907 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 13:37:16.896 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:37:16.910 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:37:16.934 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:37:16.935 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:37:16.944 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:37:17.104 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:37:17.126 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:37:25.180 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:37:25.206 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:37:33.272 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=0bf652e1-367b-496a-b83b-920dcc94f544, Ad=Çerçeve Birleştirme Elemanı, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:37:44.445 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 13:37:44.445 +03:00 [WRN] Step 2 - ModelState geçersiz, validation hataları var
2025-04-11 13:37:44.524 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=af90d975-fde9-43d6-a75b-0b12accb0ecd, Ad=Çelik Kalıp 60x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:37:44.537 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=af90d975-fde9-43d6-a75b-0b12accb0ecd, Ad=Çelik Kalıp 60x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:42:05.433 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:42:05.436 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:42:05.439 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:42:05.440 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:42:05.445 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:42:05.539 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:42:05.553 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:49:29.630 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 13:49:29.830 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-11 13:54:47.447 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 13:54:53.931 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:54:53.943 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:54:53.982 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:54:53.984 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:54:54.004 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:54:54.189 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:54:54.210 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:55:41.057 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-11 13:55:41.059 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 13:57:04.731 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 13:57:04.736 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 13:57:04.740 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 13:57:04.740 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 13:57:04.745 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 13:57:04.827 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:57:04.841 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:58:33.611 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:58:33.625 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:58:37.672 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=07c68ed3-5de9-468b-92d1-4d9727edb3c1, Ad=Çerçeve Birleştirme Elemanı, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:58:50.037 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 13:58:50.037 +03:00 [WRN] Step 2 - ModelState geçersiz, validation hataları var
2025-04-11 13:58:50.037 +03:00 [WRN] Validation hataları: OdemeDurumu: Ödeme durumu seçilmelidir.
2025-04-11 13:58:50.121 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=af90d975-fde9-43d6-a75b-0b12accb0ecd, Ad=Çelik Kalıp 60x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 13:58:50.137 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=af90d975-fde9-43d6-a75b-0b12accb0ecd, Ad=Çelik Kalıp 60x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:08:18.549 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 14:09:42.070 +03:00 [INF] Giriş denemesi: admin
2025-04-11 14:09:42.175 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 14:09:42.175 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 14:09:42.175 +03:00 [INF] Yönlendirme adresi: /
2025-04-11 14:09:42.175 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-11 14:09:42.277 +03:00 [INF] Aktif session bulundu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 14:09:42.279 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-11 14:09:42.279 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 14:09:56.011 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 14:09:56.025 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 14:09:56.050 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 14:09:56.050 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 14:09:56.059 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 14:09:56.216 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:09:56.238 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:10:25.240 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:10:25.266 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:10:38.560 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 14:10:38.560 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-11 14:10:38.560 +03:00 [WRN] Geçersiz fatura türü ID: 
2025-04-11 14:10:38.641 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=af90d975-fde9-43d6-a75b-0b12accb0ecd, Ad=Çelik Kalıp 60x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:10:38.657 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=af90d975-fde9-43d6-a75b-0b12accb0ecd, Ad=Çelik Kalıp 60x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:10:49.083 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 14:10:49.088 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 14:10:49.090 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 14:10:49.091 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 14:10:49.094 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 14:10:49.182 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:10:49.191 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:11:45.008 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:11:45.030 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:12:02.726 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 14:12:02.726 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-11 14:12:02.742 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-11 14:12:02.742 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-11 14:12:02.776 +03:00 [INF] Fatura oluşturuldu: ID=d81d1ace-b13f-4322-bfb8-b20d4d1c6440, FaturaNo=FTR-250411-001
2025-04-11 14:12:02.776 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-11 14:12:02.776 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-11 14:12:02.777 +03:00 [INF] Fatura detayı oluşturuldu: ID=d79b33c0-d656-4746-9ba9-faf5bd9000c9, Ürün=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=10
2025-04-11 14:12:02.777 +03:00 [INF] Stok hareketi oluşturuldu: ID=b6323346-b226-4c4c-9b80-43adbc5e2be4, Tür=Giriş, Miktar=10
2025-04-11 14:12:02.777 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-11 14:12:02.813 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Eski=0, Yeni=10
2025-04-11 14:12:02.878 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SatirKdvToplam', table 'MuhasebeStokDB.dbo.FaturaDetaylari'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fed4d5a2-434e-45e9-bdd4-0f5f19257541
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SatirKdvToplam', table 'MuhasebeStokDB.dbo.FaturaDetaylari'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fed4d5a2-434e-45e9-bdd4-0f5f19257541
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 14:12:02.882 +03:00 [ERR] Fatura kaydedilirken hata oluştu: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SatirKdvToplam', table 'MuhasebeStokDB.dbo.FaturaDetaylari'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fed4d5a2-434e-45e9-bdd4-0f5f19257541
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.FaturaController.Create(FaturaCreateViewModel viewModel) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/FaturaController.cs:line 470
2025-04-11 14:12:02.950 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=af90d975-fde9-43d6-a75b-0b12accb0ecd, Ad=Çelik Kalıp 60x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:12:02.967 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=af90d975-fde9-43d6-a75b-0b12accb0ecd, Ad=Çelik Kalıp 60x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:15:15.213 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 14:15:52.089 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-11 14:15:52.091 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 14:16:09.159 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-11 14:16:09.159 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 14:16:14.595 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 14:16:14.608 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 14:16:14.631 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 14:16:14.632 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 14:16:14.640 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 14:16:14.796 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:16:14.819 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:16:23.995 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:16:24.009 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:16:39.536 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 14:16:39.536 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-11 14:16:39.542 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-11 14:16:39.542 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-11 14:16:39.569 +03:00 [INF] Fatura oluşturuldu: ID=2290a234-67f8-48db-ad0b-8ac66df8c302, FaturaNo=FTR-250411-001
2025-04-11 14:16:39.569 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-11 14:16:39.569 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-11 14:16:39.569 +03:00 [INF] Fatura detayı oluşturuldu: ID=f830e398-df9a-4bbb-9c3e-5de95cf2531f, Ürün=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 14:16:39.570 +03:00 [INF] Stok hareketi oluşturuldu: ID=8e07f7ff-ff36-4496-8ab9-86f80b8baee6, Tür=Giriş, Miktar=100
2025-04-11 14:16:39.570 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-11 14:16:39.604 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Eski=0, Yeni=100
2025-04-11 14:16:39.633 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-11 14:16:39.633 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-11 14:16:39.635 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=100, ParaBirimi=USD
2025-04-11 14:16:39.635 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250411-001, ParaBirimi=USD, DovizKuru=1,0000
2025-04-11 14:16:39.635 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=83a9cc8f-0768-473e-b70e-39306b649c9a
2025-04-11 14:16:39.635 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 100 USD
2025-04-11 14:16:39.636 +03:00 [INF] GetParaBirimiKuru çalıştırılıyor: USD -> TRY, Tarih: 11.04.2025 14:16:39
2025-04-11 14:16:39.676 +03:00 [INF] Kur değeri başarıyla alındı: USD -> TRY = 38,052000
2025-04-11 14:16:39.676 +03:00 [INF] GetParaBirimiKuru çalıştırılıyor: USD -> UZS, Tarih: 11.04.2025 14:16:39
2025-04-11 14:16:39.681 +03:00 [INF] Kur değeri başarıyla alındı: USD -> UZS = 12968,583600
2025-04-11 14:16:39.681 +03:00 [INF] FIFO kayıt verisi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=100, ParaBirimi=USD
2025-04-11 14:16:39.681 +03:00 [INF] FIFO kaydı veritabanına ekleniyor...
2025-04-11 14:16:39.698 +03:00 [INF] FIFO kaydı başarıyla oluşturuldu: StokFifoID=83a9cc8f-0768-473e-b70e-39306b649c9a
2025-04-11 14:16:39.698 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 14:16:39.699 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-11 14:16:39.724 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=3b75c174-e47f-41f6-b39a-9d04d2078d5c, CariID=85c6ec2c-564f-4190-dd8f-08dd76d65c77
2025-04-11 14:16:39.728 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
2025-04-11 14:40:42.547 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 14:41:03.091 +03:00 [INF] Giriş denemesi: admin
2025-04-11 14:41:03.189 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 14:41:03.189 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 14:41:03.189 +03:00 [INF] Yönlendirme adresi: /Urun
2025-04-11 14:41:03.189 +03:00 [INF] Admin kullanıcısı /Urun adresine yönlendiriliyor
2025-04-11 14:41:33.084 +03:00 [INF] Stok miktarı azaltıldı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100,000, Yeni stok=-100,000
2025-04-11 14:41:33.087 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 2290a234-67f8-48db-ad0b-8ac66df8c302, Fatura
2025-04-11 14:41:33.161 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 2290a234-67f8-48db-ad0b-8ac66df8c302, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 14:41:33.161 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=2290a234-67f8-48db-ad0b-8ac66df8c302
2025-04-11 14:41:33.173 +03:00 [INF] İlişkili cari hareket silinmiş olarak işaretleniyor: ID=3b75c174-e47f-41f6-b39a-9d04d2078d5c
2025-04-11 14:41:36.922 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 14:41:36.936 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 14:41:36.949 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 14:41:36.950 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 14:41:36.969 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 14:41:37.119 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:41:37.141 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:41:46.143 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:41:46.165 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:41:56.511 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 14:41:56.511 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-11 14:41:56.517 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-11 14:41:56.517 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-11 14:41:56.522 +03:00 [INF] Fatura oluşturuldu: ID=a96419e0-033d-4ffa-8584-dd5d5c130c97, FaturaNo=FTR-250411-001
2025-04-11 14:41:56.522 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-11 14:41:56.522 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-11 14:41:56.522 +03:00 [INF] Fatura detayı oluşturuldu: ID=f9f2274f-c9a6-465b-b917-ca482f3c9007, Ürün=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 14:41:56.522 +03:00 [INF] Stok hareketi oluşturuldu: ID=4370863b-23de-4ef7-bd51-6ca7e6376ee9, Tür=Giriş, Miktar=100
2025-04-11 14:41:56.523 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-11 14:41:56.525 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Eski=0, Yeni=100
2025-04-11 14:41:56.538 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-11 14:41:56.538 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-11 14:41:56.540 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=120, ParaBirimi=USD
2025-04-11 14:41:56.541 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250411-001, ParaBirimi=USD, DovizKuru=1,0000
2025-04-11 14:41:56.541 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=28384a20-2636-4684-9b02-7f24eba10f14
2025-04-11 14:41:56.541 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 120 USD
2025-04-11 14:41:56.576 +03:00 [INF] USD -> UZS birim fiyat hesaplandı: 120 * 12968,583600 = 1556230,032000 UZS
2025-04-11 14:41:56.581 +03:00 [INF] FIFO kayıt verisi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=120, ParaBirimi=USD
2025-04-11 14:41:56.581 +03:00 [INF] FIFO kaydı veritabanına ekleniyor...
2025-04-11 14:41:56.584 +03:00 [INF] FIFO kaydı başarıyla oluşturuldu: StokFifoID=28384a20-2636-4684-9b02-7f24eba10f14
2025-04-11 14:41:56.584 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 14:41:56.584 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-11 14:41:56.595 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=51ba10e7-3845-46e7-8edf-c746b38a882d, CariID=85c6ec2c-564f-4190-dd8f-08dd76d65c77
2025-04-11 14:41:56.599 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
2025-04-11 14:52:01.999 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 14:52:52.711 +03:00 [INF] Giriş denemesi: admin
2025-04-11 14:52:52.806 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 14:52:52.806 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 14:52:52.806 +03:00 [INF] Yönlendirme adresi: /Urun
2025-04-11 14:52:52.806 +03:00 [INF] Admin kullanıcısı /Urun adresine yönlendiriliyor
2025-04-11 14:53:19.340 +03:00 [INF] Stok miktarı azaltıldı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100,000, Yeni stok=-100,000
2025-04-11 14:53:19.343 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: a96419e0-033d-4ffa-8584-dd5d5c130c97, Fatura
2025-04-11 14:53:19.419 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: a96419e0-033d-4ffa-8584-dd5d5c130c97, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 14:53:19.419 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=a96419e0-033d-4ffa-8584-dd5d5c130c97
2025-04-11 14:53:19.432 +03:00 [INF] İlişkili cari hareket silinmiş olarak işaretleniyor: ID=51ba10e7-3845-46e7-8edf-c746b38a882d
2025-04-11 14:53:21.864 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 14:53:21.878 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 14:53:21.893 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 14:53:21.894 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 14:53:21.914 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 14:53:22.071 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:53:22.089 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:53:30.662 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:53:30.682 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 14:53:39.001 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 14:53:39.002 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-11 14:53:39.007 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-11 14:53:39.008 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-11 14:53:39.012 +03:00 [INF] Fatura oluşturuldu: ID=3445f971-1179-4f96-90ec-081d5adb4aa3, FaturaNo=FTR-250411-001
2025-04-11 14:53:39.012 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-11 14:53:39.012 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-11 14:53:39.013 +03:00 [INF] Fatura detayı oluşturuldu: ID=e9ab1d5d-0f79-49ff-96f7-e0b12ca38a69, Ürün=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 14:53:39.013 +03:00 [INF] Stok hareketi oluşturuldu: ID=afc92ffe-2ef3-47b9-aa9e-da586787624c, Tür=Giriş, Miktar=100
2025-04-11 14:53:39.013 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-11 14:53:39.016 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Eski=0, Yeni=100
2025-04-11 14:53:39.038 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-11 14:53:39.039 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-11 14:53:39.040 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=125, ParaBirimi=USD
2025-04-11 14:53:39.040 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250411-001, ParaBirimi=USD, DovizKuru=1,0000
2025-04-11 14:53:39.040 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=ae1067ab-ce56-4719-b01c-4759d905a28f
2025-04-11 14:53:39.041 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 125 USD
2025-04-11 14:53:39.069 +03:00 [INF] USD -> UZS birim fiyat hesaplandı: 125 * 12968,583600 = 1621072,950000 UZS
2025-04-11 14:53:39.073 +03:00 [INF] FIFO kayıt verisi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=125, ParaBirimi=USD
2025-04-11 14:53:39.073 +03:00 [INF] FIFO kaydı veritabanına ekleniyor...
2025-04-11 14:53:39.077 +03:00 [INF] FIFO kaydı başarıyla oluşturuldu: StokFifoID=ae1067ab-ce56-4719-b01c-4759d905a28f
2025-04-11 14:53:39.077 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 14:53:39.077 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-11 14:53:39.085 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=b234140a-4778-4cf3-9b64-cdb4dbfe04c5, CariID=85c6ec2c-564f-4190-dd8f-08dd76d65c77
2025-04-11 14:53:39.088 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
2025-04-11 15:01:09.968 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 15:01:10.186 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-11 15:01:32.646 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 15:01:32.808 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-11 15:02:14.406 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 15:02:14.563 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-11 15:02:44.015 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 15:02:44.174 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-11 15:03:26.456 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 15:03:26.620 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-11 15:06:36.285 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 15:07:00.954 +03:00 [INF] Giriş denemesi: admin
2025-04-11 15:07:01.048 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 15:07:01.048 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 15:07:01.048 +03:00 [INF] Yönlendirme adresi: /
2025-04-11 15:07:01.048 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-11 15:07:01.143 +03:00 [INF] Aktif session bulundu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 15:07:01.144 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-11 15:07:01.144 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 15:07:28.254 +03:00 [INF] Stok miktarı azaltıldı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100,000, Yeni stok=-100,000
2025-04-11 15:07:28.256 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 3445f971-1179-4f96-90ec-081d5adb4aa3, Fatura
2025-04-11 15:07:28.314 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 3445f971-1179-4f96-90ec-081d5adb4aa3, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 15:07:28.314 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=3445f971-1179-4f96-90ec-081d5adb4aa3
2025-04-11 15:07:28.320 +03:00 [INF] İlişkili cari hareket silinmiş olarak işaretleniyor: ID=b234140a-4778-4cf3-9b64-cdb4dbfe04c5
2025-04-11 15:07:53.633 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 15:07:53.648 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 15:07:53.662 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 15:07:53.663 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 15:07:53.673 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 15:07:53.836 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 15:07:53.859 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 15:08:04.309 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 15:08:04.333 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 15:08:12.426 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 15:08:12.427 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-11 15:08:12.432 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-11 15:08:12.432 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-11 15:08:12.437 +03:00 [INF] Fatura oluşturuldu: ID=83f93a97-ab15-42f0-80f8-bc440d6ec15a, FaturaNo=FTR-250411-001
2025-04-11 15:08:12.438 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-11 15:08:12.438 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-11 15:08:12.438 +03:00 [INF] Fatura detayı oluşturuldu: ID=30c2573b-51ee-41ca-ad30-e39d2d270c27, Ürün=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 15:08:12.439 +03:00 [INF] Stok hareketi oluşturuldu: ID=fffc73d0-05ae-40ef-bea7-ab33dc62a55d, Tür=Giriş, Miktar=100
2025-04-11 15:08:12.439 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-11 15:08:12.441 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Eski=0, Yeni=100
2025-04-11 15:08:12.452 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-11 15:08:12.452 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-11 15:08:12.454 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=135, ParaBirimi=USD
2025-04-11 15:08:12.455 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250411-001, ParaBirimi=USD, DovizKuru=1,0000
2025-04-11 15:08:12.455 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=782f780f-1dbc-4ca9-b10e-eb8837a16624
2025-04-11 15:08:12.455 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 135 USD
2025-04-11 15:08:12.483 +03:00 [INF] USD -> UZS birim fiyat hesaplandı: 135 * 12968,583600 = 1750758,786000 UZS
2025-04-11 15:08:12.489 +03:00 [INF] FIFO kayıt verisi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=135, ParaBirimi=USD
2025-04-11 15:08:12.489 +03:00 [INF] FIFO kaydı veritabanına ekleniyor...
2025-04-11 15:08:12.492 +03:00 [INF] FIFO kaydı başarıyla oluşturuldu: StokFifoID=782f780f-1dbc-4ca9-b10e-eb8837a16624
2025-04-11 15:08:12.492 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 15:08:12.492 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-11 15:08:12.502 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=66dcdb81-bf5e-45e5-85b1-aef5c3b5b9e5, CariID=85c6ec2c-564f-4190-dd8f-08dd76d65c77
2025-04-11 15:08:12.505 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
2025-04-11 15:14:24.957 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 15:14:25.163 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-11 15:14:55.817 +03:00 [INF] Veritabanı başarıyla oluşturuldu ve migrationlar uygulandı.
2025-04-11 15:16:00.005 +03:00 [INF] Stok miktarı azaltıldı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100,000, Yeni stok=-100,000
2025-04-11 15:16:00.010 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 83f93a97-ab15-42f0-80f8-bc440d6ec15a, Fatura
2025-04-11 15:16:00.064 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 83f93a97-ab15-42f0-80f8-bc440d6ec15a, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 15:16:00.064 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=83f93a97-ab15-42f0-80f8-bc440d6ec15a
2025-04-11 15:16:00.076 +03:00 [INF] İlişkili cari hareket silinmiş olarak işaretleniyor: ID=66dcdb81-bf5e-45e5-85b1-aef5c3b5b9e5
2025-04-11 15:16:03.576 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 15:16:03.590 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 15:16:03.604 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 15:16:03.605 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 15:16:03.626 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 15:16:03.775 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 15:16:03.790 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 15:16:14.245 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 15:16:14.269 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 15:16:24.495 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 15:16:24.495 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-11 15:16:24.500 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-11 15:16:24.500 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-11 15:16:24.504 +03:00 [INF] Fatura oluşturuldu: ID=93aa99a5-541d-438d-8d08-a9de6b7b216a, FaturaNo=FTR-250411-001
2025-04-11 15:16:24.504 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-11 15:16:24.504 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-11 15:16:24.504 +03:00 [INF] Fatura detayı oluşturuldu: ID=66e5848d-a99a-4750-984d-2fed3407d6f6, Ürün=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 15:16:24.505 +03:00 [INF] Stok hareketi oluşturuldu: ID=8e62f48c-cfc3-4be9-a1ad-319662343d64, Tür=Giriş, Miktar=100
2025-04-11 15:16:24.505 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-11 15:16:24.507 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Eski=0, Yeni=100
2025-04-11 15:16:24.516 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-11 15:16:24.516 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-11 15:16:24.518 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=138, ParaBirimi=USD
2025-04-11 15:16:24.518 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250411-001, ParaBirimi=USD, DovizKuru=1,0000
2025-04-11 15:16:24.518 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=f080e577-9e75-48fd-9ef5-234d92d38eb7
2025-04-11 15:16:24.518 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 138 USD
2025-04-11 15:16:24.550 +03:00 [INF] USD -> UZS birim fiyat hesaplandı: 138 * 12968,583600 = 1789664,536800 UZS
2025-04-11 15:16:24.555 +03:00 [INF] FIFO kayıt verisi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=138, ParaBirimi=USD
2025-04-11 15:16:24.555 +03:00 [INF] FIFO kaydı veritabanına ekleniyor...
2025-04-11 15:16:24.558 +03:00 [INF] FIFO kaydı başarıyla oluşturuldu: StokFifoID=f080e577-9e75-48fd-9ef5-234d92d38eb7
2025-04-11 15:16:24.558 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 15:16:24.558 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-11 15:16:24.566 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=52d955a1-0691-4258-8c55-0bea77a0feb6, CariID=85c6ec2c-564f-4190-dd8f-08dd76d65c77
2025-04-11 15:16:24.570 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
2025-04-11 19:27:35.859 +03:00 [INF] Giriş denemesi: admin
2025-04-11 19:27:35.963 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 19:27:35.963 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 19:27:35.963 +03:00 [INF] Yönlendirme adresi: /
2025-04-11 19:27:35.963 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-11 19:27:35.984 +03:00 [INF] Aktif session bulundu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 19:27:35.985 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-11 19:27:35.985 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 20:12:07.999 +03:00 [INF] Giriş denemesi: admin
2025-04-11 20:12:08.064 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-11 20:12:08.064 +03:00 [INF] Admin session oluşturuldu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 20:12:08.064 +03:00 [INF] Yönlendirme adresi: /
2025-04-11 20:12:08.064 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-11 20:12:08.074 +03:00 [INF] Aktif session bulundu: UserID=1cc8bb20-7cbf-4f28-8b62-9cf1816f4127, UserName=admin
2025-04-11 20:12:08.074 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-11 20:12:08.075 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-11 20:12:17.845 +03:00 [ERR] Hata: 00-277c1843b707f48fad479a7da0ddb0ff-09012632771055a3-00, Kullanıcı: admin, Path: /Fatura/Edit/93aa99a5-541d-438d-8d08-a9de6b7b216a, Method: GET, QueryString: , IP: ::1, UserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Fatura_Edit.<ExecuteAsync>b__41_1()
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_Fatura_Edit.ExecuteAsync()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at MuhasebeStokWebApp.Middleware.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context)
2025-04-11 20:12:29.497 +03:00 [INF] Stok miktarı azaltıldı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100,000, Yeni stok=-100,000
2025-04-11 20:12:29.498 +03:00 [INF] FifoKayitlariniIptalEt - Mevcut transaction kullanılıyor: 93aa99a5-541d-438d-8d08-a9de6b7b216a, Fatura
2025-04-11 20:12:29.505 +03:00 [INF] FIFO kayıtları iptal edildi: Referans ID: 93aa99a5-541d-438d-8d08-a9de6b7b216a, Tür: Fatura, İptal edilen kayıt sayısı: 1
2025-04-11 20:12:29.505 +03:00 [INF] Giriş faturası FIFO kayıtları iptal edildi: FaturaID=93aa99a5-541d-438d-8d08-a9de6b7b216a
2025-04-11 20:12:29.507 +03:00 [INF] İlişkili cari hareket silinmiş olarak işaretleniyor: ID=52d955a1-0691-4258-8c55-0bea77a0feb6
2025-04-11 20:12:33.638 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-11 20:12:33.643 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-11 20:12:33.646 +03:00 [INF] Ürün listesi yüklendi, toplam 8 adet ürün bulundu.
2025-04-11 20:12:33.646 +03:00 [INF] Ürün select list oluşturuldu, toplam 8 adet öğe içeriyor.
2025-04-11 20:12:33.652 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-11 20:12:33.751 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 20:12:33.763 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 20:13:00.047 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 20:13:00.067 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Ad=Çelik Kalıp 50x300 cm, Birim=Adet, KDV=18, Fiyat=0
2025-04-11 20:13:12.023 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-11 20:13:12.023 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-11 20:13:12.025 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-11 20:13:12.026 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-11 20:13:12.026 +03:00 [INF] Fatura oluşturuldu: ID=60f66584-3338-478e-a746-bc6327db5483, FaturaNo=FTR-250411-001
2025-04-11 20:13:12.026 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-11 20:13:12.026 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-11 20:13:12.026 +03:00 [INF] Fatura detayı oluşturuldu: ID=9ffd0c9a-c4b9-40b1-a362-bb4c4a136c89, Ürün=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 20:13:12.027 +03:00 [INF] Stok hareketi oluşturuldu: ID=8ff46b34-f3c3-4741-b3e6-b17d50d4408e, Tür=Giriş, Miktar=100
2025-04-11 20:13:12.027 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-11 20:13:12.029 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Eski=0, Yeni=100
2025-04-11 20:13:12.045 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-11 20:13:12.045 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-11 20:13:12.045 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=1000, ParaBirimi=USD
2025-04-11 20:13:12.045 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250411-001, ParaBirimi=USD, DovizKuru=1,0000
2025-04-11 20:13:12.045 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=1fbdafb5-0b5b-4f89-893d-be9fadceb441
2025-04-11 20:13:12.045 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 1000 USD
2025-04-11 20:13:12.052 +03:00 [INF] USD -> UZS birim fiyat hesaplandı: 1000 * 12968,583600 = 12968583,600000 UZS
2025-04-11 20:13:12.058 +03:00 [INF] FIFO kayıt verisi: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100, BirimFiyat=1000, ParaBirimi=USD
2025-04-11 20:13:12.058 +03:00 [INF] FIFO kaydı veritabanına ekleniyor...
2025-04-11 20:13:12.058 +03:00 [INF] FIFO kaydı başarıyla oluşturuldu: StokFifoID=1fbdafb5-0b5b-4f89-893d-be9fadceb441
2025-04-11 20:13:12.058 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=544d5ef7-55dd-4d99-84a2-19840545e2ec, Miktar=100
2025-04-11 20:13:12.058 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-11 20:13:12.062 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=4225907c-d043-449e-869a-14a383c57f20, CariID=85c6ec2c-564f-4190-dd8f-08dd76d65c77
2025-04-11 20:13:12.066 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
