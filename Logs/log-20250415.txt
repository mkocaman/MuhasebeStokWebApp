2025-04-15 11:07:46.164 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 11:07:46.514 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 11:07:58.436 +03:00 [INF] Giriş denemesi: admin
2025-04-15 11:07:58.531 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 11:07:58.531 +03:00 [INF] Admin session oluşturuldu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:07:58.531 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 11:07:58.531 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 11:07:58.640 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:07:58.641 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:07:58.641 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:28:56.396 +03:00 [INF] 0 adet para birimi ilişkisi listelendi.
2025-04-15 11:30:01.248 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 11:30:01.250 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 11:30:01.648 +03:00 [INF] Received HTTP response headers after 395.2703ms - 200
2025-04-15 11:30:01.657 +03:00 [INF] End processing HTTP request after 411.8158ms - 200
2025-04-15 11:30:17.274 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:30:17.275 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:30:17.275 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:30:17.290 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 11:30:17.291 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 11:30:47.327 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:30:47.327 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:30:47.327 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:30:47.334 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 11:30:47.335 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 11:55:54.071 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 11:55:54.398 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 11:56:02.606 +03:00 [INF] Giriş denemesi: admin
2025-04-15 11:56:02.711 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 11:56:02.711 +03:00 [INF] Admin session oluşturuldu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:56:02.711 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 11:56:02.711 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 11:56:02.787 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:56:02.788 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:56:02.789 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:56:09.457 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 11:56:09.459 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 11:56:09.487 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:56:09.487 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:56:09.487 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:56:09.494 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 11:56:09.495 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 11:57:11.787 +03:00 [INF] 0 adet para birimi ilişkisi listelendi.
2025-04-15 11:57:53.514 +03:00 [INF] 0 adet para birimi ilişkisi listelendi.
2025-04-15 11:57:55.305 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:57:55.305 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:57:55.305 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:57:55.316 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 11:57:55.316 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 11:58:46.075 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:58:46.076 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:58:46.076 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:58:46.079 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 11:58:46.079 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 11:59:26.160 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:59:26.161 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:59:26.161 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:59:26.169 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 11:59:26.169 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 11:59:44.503 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 11:59:44.503 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 11:59:44.503 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 11:59:44.510 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 11:59:44.510 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 11:59:53.435 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 11:59:53.444 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 11:59:53.445 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama=, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 11:59:53.464 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 11:59:53.465 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 11:59:53.466 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 11:59:53.494 +03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 11:59:53.497 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 11:59:53.499 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 11:59:53.509 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 11:59:53.510 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 11:59:53.511 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:38.449 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 12:00:38.450 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:38.451 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama=, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:38.460 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:38.461 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:38.462 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:38.469 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:38.471 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:38.472 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 12:00:38.480 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:38.482 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:38.482 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:51.202 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 12:00:51.204 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:51.204 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama=, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:51.210 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:51.211 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:51.211 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:51.220 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:51.221 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:51.222 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 12:00:51.230 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:51.231 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:51.232 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:54.825 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 12:00:54.825 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:54.826 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama= ., Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:54.833 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:54.834 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:54.835 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:54.844 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:54.846 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:54.846 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 12:00:54.857 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:54.859 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:54.859 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:57.790 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 12:00:57.791 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:57.793 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama= dfde, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:57.809 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:57.810 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:57.811 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:00:57.820 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:57.822 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:57.824 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 12:00:57.834 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:00:57.837 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:00:57.837 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:01:05.763 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 12:01:05.764 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:01:05.765 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama=asdf, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:01:05.772 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:01:05.773 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:01:05.774 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:01:05.782 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:01:05.784 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:01:05.785 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 12:01:05.795 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:01:05.798 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:01:05.799 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:02:03.728 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:02:03.730 +03:00 [ERR] Depo oluşturulurken hata oluştu
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.DepoController.Create(DepoCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/DepoController.cs:line 128
2025-04-15 12:02:06.330 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:02:06.332 +03:00 [ERR] Depo oluşturulurken hata oluştu
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.DepoController.Create(DepoCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/DepoController.cs:line 128
2025-04-15 12:02:07.542 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:02:07.544 +03:00 [ERR] Depo oluşturulurken hata oluştu
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.DepoController.Create(DepoCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/DepoController.cs:line 128
2025-04-15 12:02:12.615 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:02:12.617 +03:00 [ERR] Depo oluşturulurken hata oluştu
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:99ba2257-23ff-4b34-9229-082b66a06b75
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.DepoController.Create(DepoCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/DepoController.cs:line 128
2025-04-15 12:04:30.035 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 12:04:30.372 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 12:05:10.424 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 12:05:10.435 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:05:10.437 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama=asedf, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:05:10.456 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:05:10.457 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:05:10.457 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:05:10.487 +03:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:05:10.490 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:05:10.492 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 12:05:10.501 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 12:05:10.503 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:05:10.504 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23d9ac38-e42c-4267-a305-b03bc218b39d
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:07:17.422 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 12:07:17.424 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 12:07:36.513 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 12:07:36.517 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 12:07:36.517 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 12:07:36.517 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 12:07:36.540 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 12:07:36.540 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 12:07:36.550 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 12:07:36.550 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 12:23:24.781 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 12:23:24.783 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:76aa7f4c-51ac-4742-ac3a-e755299500bd
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:76aa7f4c-51ac-4742-ac3a-e755299500bd
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 12:23:24.783 +03:00 [ERR] Log ekleme hatası: SistemLogController.Index - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:76aa7f4c-51ac-4742-ac3a-e755299500bd
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 12:24:12.088 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 12:24:12.088 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 12:24:12.096 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 12:24:12.096 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 12:30:19.305 +03:00 [INF] Giriş denemesi: admin
2025-04-15 12:30:19.383 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 12:30:19.383 +03:00 [INF] Admin session oluşturuldu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 12:30:19.383 +03:00 [INF] Yönlendirme adresi: /Kasa
2025-04-15 12:30:19.383 +03:00 [INF] Admin kullanıcısı /Kasa adresine yönlendiriliyor
2025-04-15 12:30:33.594 +03:00 [INF] 0 adet para birimi ilişkisi listelendi.
2025-04-15 13:12:07.240 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 13:12:07.616 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 13:12:18.547 +03:00 [INF] Giriş denemesi: admin
2025-04-15 13:12:18.643 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 13:12:18.643 +03:00 [INF] Admin session oluşturuldu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 13:12:18.643 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 13:12:18.643 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 13:12:18.748 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 13:12:18.749 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 13:12:18.749 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:12:30.951 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 13:12:30.961 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:12:30.962 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama=, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:12:30.984 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:12:30.985 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:12:30.986 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:12:31.012 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:12:31.014 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:12:31.016 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 13:12:31.026 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:12:31.028 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:12:31.029 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:12:34.203 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 13:12:34.204 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:12:34.205 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama= r, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:12:34.211 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:12:34.212 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:12:34.213 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:12:34.222 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:12:34.224 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:12:34.225 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 13:12:34.234 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:12:34.237 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:12:34.237 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:13:08.937 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 13:13:08.939 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:13:08.939 +03:00 [ERR] Log ekleme hatası: Gelen model: BirimAdi=Adet, Aciklama=w, Aktif=True - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:13:08.947 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:13:08.948 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:13:08.949 +03:00 [ERR] Log ekleme hatası: Birim oluşturuluyor: Adet, Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:13:08.959 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:13:08.962 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:13:08.964 +03:00 [ERR] Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.BirimController.Create(BirimCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/BirimController.cs:line 156
2025-04-15 13:13:08.974 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 250), @p19='?' (DbType = Guid), @p20='?' (Size = 4000), @p21='?' (DbType = Guid), @p22='?' (Size = 128) (DbType = AnsiString), @p23='?' (DbType = Guid), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 2000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 250), @p29='?' (Size = 250), @p30='?' (Size = 4000), @p31='?' (DbType = Boolean), @p32='?' (Size = 4000), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (Size = 250), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = Guid), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Size = 2000), @p45='?' (DbType = DateTime2), @p46='?' (Size = 250), @p47='?' (Size = 250), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (Size = 250), @p55='?' (DbType = Guid), @p56='?' (Size = 4000), @p57='?' (DbType = Guid), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (Size = 50), @p61='?' (DbType = Int32), @p62='?' (Size = 2000), @p63='?' (DbType = DateTime2), @p64='?' (Size = 250), @p65='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
MERGE [SistemLoglar] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 1),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 13:13:08.975 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:13:08.976 +03:00 [ERR] Log ekleme hatası: Veritabanı güncellenirken hata oluştu. Kullanıcı ID: ef485e54-df92-4418-ab3d-843fbb715fe1 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:14:35.266 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 13:14:35.266 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 13:14:35.266 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:14:35.274 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:14:35.274 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:14:59.839 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 13:14:59.841 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:14:59.841 +03:00 [ERR] Log ekleme hatası: SistemLogController.Index - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b052dbe-607c-4f3b-8534-c1ca716b7478
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:15:21.822 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 13:15:21.823 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 13:15:21.823 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:15:21.829 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:15:21.829 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:20:08.200 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 13:20:08.556 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 13:20:15.426 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:20:15.429 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:20:24.312 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-04-15 13:20:24.322 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Aciklama', table 'MuhasebeStokDB.dbo.Birimler'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:49f8248d-53fc-4f82-a09c-a83f1cb0496c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Aciklama', table 'MuhasebeStokDB.dbo.Birimler'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:49f8248d-53fc-4f82-a09c-a83f1cb0496c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:20:26.993 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 13:20:26.994 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:49f8248d-53fc-4f82-a09c-a83f1cb0496c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:49f8248d-53fc-4f82-a09c-a83f1cb0496c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:20:26.995 +03:00 [ERR] Log ekleme hatası: Birim başarıyla oluşturuldu: Adet - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:49f8248d-53fc-4f82-a09c-a83f1cb0496c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:24:01.225 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 13:24:01.563 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 13:24:41.331 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:24:41.334 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:24:41.596 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:24:41.596 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:24:41.600 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:24:41.600 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:25:00.706 +03:00 [INF] Yeni ürün oluşturma işlemi başlatılıyor: Kullanıcı=admin
2025-04-15 13:25:00.794 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 13:25:00.804 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ed4f8019-28c5-4ffc-b6fd-ed2e31c15b32
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ed4f8019-28c5-4ffc-b6fd-ed2e31c15b32
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 13:25:00.804 +03:00 [ERR] Log ekleme hatası: UrunController.Create - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ed4f8019-28c5-4ffc-b6fd-ed2e31c15b32
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 71
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 104
2025-04-15 13:25:36.662 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:25:36.663 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:25:36.670 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:25:36.671 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:26:09.334 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:26:09.335 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:26:09.346 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:26:09.346 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:26:16.473 +03:00 [ERR] Hata: 00-44531e59e1781bfbf02fcd568cabc183-1f0d668a3542f645-00, Kullanıcı: admin, Path: /Fatura, Method: GET, QueryString: , IP: ::1, UserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
System.InvalidOperationException: Unable to resolve service for type 'MuhasebeStokWebApp.Services.Interfaces.IFaturaService' while attempting to activate 'MuhasebeStokWebApp.Controllers.FaturaController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method4152(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at MuhasebeStokWebApp.Middleware.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/muhammetkocaman/MuhasebeStokWebApp/Middleware/GlobalExceptionHandlingMiddleware.cs:line 31
2025-04-15 13:26:20.096 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:26:20.096 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:26:20.105 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:26:20.105 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:26:23.857 +03:00 [ERR] Hata: 00-c867042f238c706e869ccc514102c0e8-2927e1367867dfc8-00, Kullanıcı: admin, Path: /Fatura, Method: GET, QueryString: , IP: ::1, UserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
System.InvalidOperationException: Unable to resolve service for type 'MuhasebeStokWebApp.Services.Interfaces.IFaturaService' while attempting to activate 'MuhasebeStokWebApp.Controllers.FaturaController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method4152(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at MuhasebeStokWebApp.Middleware.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/muhammetkocaman/MuhasebeStokWebApp/Middleware/GlobalExceptionHandlingMiddleware.cs:line 31
2025-04-15 13:27:00.365 +03:00 [ERR] Hata: 00-0f7a7971535dbb8b332c67c304c178ff-24a326814d2235fa-00, Kullanıcı: admin, Path: /Fatura, Method: GET, QueryString: , IP: ::1, UserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
System.InvalidOperationException: Unable to resolve service for type 'MuhasebeStokWebApp.Services.Interfaces.IFaturaService' while attempting to activate 'MuhasebeStokWebApp.Controllers.FaturaController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method4152(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at MuhasebeStokWebApp.Middleware.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/muhammetkocaman/MuhasebeStokWebApp/Middleware/GlobalExceptionHandlingMiddleware.cs:line 31
2025-04-15 13:27:07.357 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:27:07.358 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:27:07.365 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:27:07.365 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:27:17.274 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:27:17.274 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:27:17.280 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:27:17.280 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:29:08.479 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:29:08.479 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:29:08.485 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:29:08.485 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:29:32.229 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 13:29:32.541 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 13:29:35.822 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:29:35.825 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:29:56.924 +03:00 [ERR] Hata: 00-1d3419de2064278c76e53448e905ac7c-e78bda47cf83a1a0-00, Kullanıcı: admin, Path: /Fatura, Method: GET, QueryString: , IP: ::1, UserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
System.InvalidOperationException: Unable to resolve service for type 'MuhasebeStokWebApp.Services.Interfaces.IFaturaService' while attempting to activate 'MuhasebeStokWebApp.Controllers.FaturaController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method2992(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at MuhasebeStokWebApp.Middleware.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/muhammetkocaman/MuhasebeStokWebApp/Middleware/GlobalExceptionHandlingMiddleware.cs:line 31
2025-04-15 13:30:24.663 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:30:24.663 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:30:24.688 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:30:24.688 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:30:30.611 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:30:30.612 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:30:30.620 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:30:30.620 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:30:35.742 +03:00 [ERR] Hata: 00-01a11c4395e26da844e7c5e0d74ab266-1fda66fa79e9fd6d-00, Kullanıcı: admin, Path: /Fatura/Aklama, Method: GET, QueryString: , IP: ::1, UserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
System.InvalidOperationException: Unable to resolve service for type 'MuhasebeStokWebApp.Services.Interfaces.IFaturaService' while attempting to activate 'MuhasebeStokWebApp.Controllers.FaturaController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3125(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at MuhasebeStokWebApp.Middleware.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/muhammetkocaman/MuhasebeStokWebApp/Middleware/GlobalExceptionHandlingMiddleware.cs:line 31
2025-04-15 13:31:36.454 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 13:31:36.454 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 13:31:36.459 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 13:31:36.460 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 13:37:18.416 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 13:37:18.762 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 13:38:26.025 +03:00 [INF] Fatura silme işlemi başlatılıyor: FaturaID=1c4f002b-00a7-4798-8cf7-3027ee3a861d, Kullanıcı=admin
2025-04-15 13:38:26.086 +03:00 [INF] Fatura başarıyla silindi: FaturaID=1c4f002b-00a7-4798-8cf7-3027ee3a861d, Kullanıcı=admin
2025-04-15 13:38:29.512 +03:00 [INF] Fatura silme işlemi başlatılıyor: FaturaID=faccbcbf-5645-430b-8406-d3c787a4c0f9, Kullanıcı=admin
2025-04-15 13:38:29.523 +03:00 [INF] Fatura başarıyla silindi: FaturaID=faccbcbf-5645-430b-8406-d3c787a4c0f9, Kullanıcı=admin
2025-04-15 13:38:54.561 +03:00 [INF] Fatura oluşturma sayfası yükleniyor: Kullanıcı=admin
2025-04-15 13:38:54.582 +03:00 [INF] Cari listesi yüklendi, toplam 2 adet cari bulundu.
2025-04-15 13:38:54.595 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-15 13:38:54.608 +03:00 [INF] Ürün listesi yüklendi, toplam 1 adet ürün bulundu.
2025-04-15 13:38:54.609 +03:00 [INF] Ürün select list oluşturuldu, toplam 1 adet öğe içeriyor.
2025-04-15 13:38:54.629 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-15 13:38:54.790 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 13:38:54.807 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 13:39:24.469 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 13:39:24.491 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 13:39:38.050 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-15 13:39:38.050 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-15 13:39:38.059 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-15 13:39:38.059 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-15 13:39:38.066 +03:00 [INF] Fatura oluşturuldu: ID=a95caab3-7ee2-4c73-9f2e-5c267dc4b869, FaturaNo=FTR-250415-001
2025-04-15 13:39:38.067 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-15 13:39:38.067 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-15 13:39:38.067 +03:00 [INF] Fatura detayı oluşturuldu: ID=886f5138-eaf6-47ae-88d9-8a2f63e8fa84, Ürün=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=275
2025-04-15 13:39:38.067 +03:00 [INF] Stok hareketi oluşturuldu: ID=8370ab60-648b-4454-b41c-79dd37699f8f, Tür=Giriş, Miktar=275
2025-04-15 13:39:38.068 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-15 13:39:38.089 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Eski=0, Yeni=275
2025-04-15 13:39:38.136 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-15 13:39:38.136 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-15 13:39:38.140 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=275, BirimFiyat=100, ParaBirimi=USD
2025-04-15 13:39:38.140 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250415-001, ParaBirimi=USD, DovizKuru=1
2025-04-15 13:39:38.140 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=bb49049f-8ef0-4578-9add-7add58530acc
2025-04-15 13:39:38.140 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 100 USD
2025-04-15 13:39:38.166 +03:00 [INF] USD -> UZS birim fiyat hesaplandı: 100 * 12969,483300 = 1296948,330000 UZS
2025-04-15 13:39:38.174 +03:00 [INF] USD -> TRY birim fiyat hesaplandı: 100 * 38,049500 = 3804,950000 TRY
2025-04-15 13:39:38.208 +03:00 [INF] StokFifo kaydı başarıyla oluşturuldu: ID=bb49049f-8ef0-4578-9add-7add58530acc, Ürün=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=275
2025-04-15 13:39:38.208 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=275
2025-04-15 13:39:38.208 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-15 13:39:38.223 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=441d72f4-1991-4237-816b-01ee20fdf759, CariID=b696b664-c3b7-4ff1-a208-5417f1544aa7
2025-04-15 13:39:38.227 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
2025-04-15 15:30:39.653 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 15:30:40.149 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 15:30:54.474 +03:00 [INF] Giriş denemesi: admin
2025-04-15 15:30:54.612 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 15:30:54.613 +03:00 [INF] Admin session oluşturuldu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 15:30:54.613 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 15:30:54.613 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 15:30:54.743 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 15:30:54.744 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 15:30:54.744 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 16:14:12.711 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 16:14:13.026 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 16:15:17.887 +03:00 [INF] Fatura oluşturma sayfası yükleniyor: Kullanıcı=admin
2025-04-15 16:15:17.921 +03:00 [INF] Cari listesi yüklendi, toplam 2 adet cari bulundu.
2025-04-15 16:15:17.936 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-15 16:15:17.957 +03:00 [INF] Ürün listesi yüklendi, toplam 1 adet ürün bulundu.
2025-04-15 16:15:17.958 +03:00 [INF] Ürün select list oluşturuldu, toplam 1 adet öğe içeriyor.
2025-04-15 16:15:17.974 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-15 16:15:18.165 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 16:15:18.182 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 16:15:40.970 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 16:15:40.993 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 16:15:54.180 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-15 16:15:54.180 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-15 16:15:54.194 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-15 16:15:54.194 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-15 16:15:54.201 +03:00 [INF] Fatura oluşturuldu: ID=fd8e4afe-f23e-4060-a916-d02a698277a6, FaturaNo=FTR-250415-002
2025-04-15 16:15:54.202 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-15 16:15:54.202 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-15 16:15:54.210 +03:00 [INF] Döviz değerleri hesaplandı: USD -> UZS, BirimFiyat: 100 -> 1296948,330000
2025-04-15 16:15:54.211 +03:00 [INF] Fatura detayı oluşturuldu: ID=c57dbb21-4fd5-475c-8fe2-6fb91daafd3e, Ürün=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=25
2025-04-15 16:15:54.211 +03:00 [INF] Stok hareketi oluşturuldu: ID=f6cfac04-1848-46f7-9d6c-1edad010a81d, Tür=Giriş, Miktar=25
2025-04-15 16:15:54.212 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-15 16:15:54.237 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Eski=0, Yeni=25
2025-04-15 16:15:54.301 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-15 16:15:54.301 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-15 16:15:54.304 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=25, BirimFiyat=100, ParaBirimi=USD
2025-04-15 16:15:54.304 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250415-002, ParaBirimi=USD, DovizKuru=1
2025-04-15 16:15:54.304 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=d235d346-a59b-47b0-b962-3734007422f2
2025-04-15 16:15:54.304 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 100 USD
2025-04-15 16:15:54.312 +03:00 [INF] USD -> UZS birim fiyat hesaplandı: 100 * 12969,483300 = 1296948,330000 UZS
2025-04-15 16:15:54.315 +03:00 [INF] USD -> TRY birim fiyat hesaplandı: 100 * 38,049500 = 3804,950000 TRY
2025-04-15 16:15:54.342 +03:00 [INF] StokFifo kaydı başarıyla oluşturuldu: ID=d235d346-a59b-47b0-b962-3734007422f2, Ürün=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=25
2025-04-15 16:15:54.343 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=25
2025-04-15 16:15:54.343 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-15 16:15:54.358 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=c388d9d1-1953-4443-b7c0-40fdf8c3a920, CariID=b696b664-c3b7-4ff1-a208-5417f1544aa7
2025-04-15 16:15:54.363 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
2025-04-15 16:29:45.113 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 16:29:45.422 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 16:29:55.651 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 16:29:55.655 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 16:30:15.296 +03:00 [INF] Fatura oluşturma sayfası yükleniyor: Kullanıcı=admin
2025-04-15 16:30:15.314 +03:00 [INF] Cari listesi yüklendi, toplam 2 adet cari bulundu.
2025-04-15 16:30:15.329 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-15 16:30:15.343 +03:00 [INF] Ürün listesi yüklendi, toplam 1 adet ürün bulundu.
2025-04-15 16:30:15.344 +03:00 [INF] Ürün select list oluşturuldu, toplam 1 adet öğe içeriyor.
2025-04-15 16:30:15.355 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-15 16:30:15.528 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 16:30:15.545 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 16:30:34.506 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 16:30:34.525 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=1b3dce61-a956-4753-94ce-ee6c972bc877, Ad=test ürün, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 16:30:42.378 +03:00 [INF] Step 1 - ViewModel alındı
2025-04-15 16:30:42.379 +03:00 [INF] Step 2 - ModelState kontrol ediliyor
2025-04-15 16:30:42.386 +03:00 [INF] Step 3 - Transaction başlatılıyor (Read Committed)
2025-04-15 16:30:42.386 +03:00 [INF] Step 4 - Fatura nesnesi oluşturuluyor
2025-04-15 16:30:42.392 +03:00 [INF] Fatura oluşturuldu: ID=e555eb21-530c-4dea-a5a5-9dc75b02284a, FaturaNo=FTR-250415-003
2025-04-15 16:30:42.392 +03:00 [INF] Step 5 - Fatura kalemleri işleniyor
2025-04-15 16:30:42.392 +03:00 [INF] Fatura kalemleri işleniyor. Toplam 1 adet kalem var.
2025-04-15 16:30:42.398 +03:00 [INF] Döviz değerleri hesaplandı: USD -> UZS, BirimFiyat: 100 -> 1296948,330000
2025-04-15 16:30:42.398 +03:00 [INF] Fatura detayı oluşturuldu: ID=439c5665-b922-47c0-b97e-5d1fae042234, Ürün=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=10
2025-04-15 16:30:42.398 +03:00 [INF] Stok hareketi oluşturuldu: ID=bdf9251e-c651-4aba-b5b8-c8eeee1cbadc, Tür=Giriş, Miktar=10
2025-04-15 16:30:42.399 +03:00 [INF] Step 6 - Veritabanı işlemleri başlatılıyor
2025-04-15 16:30:42.418 +03:00 [INF] Ürün stok miktarı güncellendi: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Eski=0, Yeni=10
2025-04-15 16:30:42.456 +03:00 [INF] Step 7 - Ana kayıtlar veritabanına eklendi
2025-04-15 16:30:42.456 +03:00 [INF] Step 8 - FIFO işlemleri başlatılıyor
2025-04-15 16:30:42.458 +03:00 [INF] StokFifoService.StokGirisiYap başladı: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=10, BirimFiyat=100, ParaBirimi=USD
2025-04-15 16:30:42.458 +03:00 [INF] Parametreler normalize edildi: Birim=Adet, ReferansNo=FTR-250415-003, ParaBirimi=USD, DovizKuru=1
2025-04-15 16:30:42.458 +03:00 [INF] FIFO nesnesi oluşturuldu: StokFifoID=68972cce-d373-4473-a81b-8dec37e320e0
2025-04-15 16:30:42.459 +03:00 [INF] USD birim fiyat direkt atandı (para birimi zaten USD): 100 USD
2025-04-15 16:30:42.464 +03:00 [INF] USD -> UZS birim fiyat hesaplandı: 100 * 12969,483300 = 1296948,330000 UZS
2025-04-15 16:30:42.468 +03:00 [INF] USD -> TRY birim fiyat hesaplandı: 100 * 38,049500 = 3804,950000 TRY
2025-04-15 16:30:42.489 +03:00 [INF] StokFifo kaydı başarıyla oluşturuldu: ID=68972cce-d373-4473-a81b-8dec37e320e0, Ürün=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=10
2025-04-15 16:30:42.489 +03:00 [INF] FIFO giriş kaydı başarıyla oluşturuldu: UrunID=1b3dce61-a956-4753-94ce-ee6c972bc877, Miktar=10
2025-04-15 16:30:42.489 +03:00 [INF] Step 9 - Cari hareket kaydı oluşturuluyor
2025-04-15 16:30:42.494 +03:00 [INF] Cari hareket kaydı oluşturuldu: ID=30b53c59-f91a-40e2-891b-eca9fff8b327, CariID=b696b664-c3b7-4ff1-a208-5417f1544aa7
2025-04-15 16:30:42.499 +03:00 [INF] Step 11 - Transaction commit edildi, fatura kaydı tamamlandı
2025-04-15 16:31:53.122 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 16:31:53.124 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 16:31:53.132 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 16:31:53.132 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 16:32:11.661 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 16:32:11.662 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 16:32:11.669 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 16:32:11.670 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 16:40:01.023 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 16:40:01.336 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 16:40:17.250 +03:00 [INF] Giriş denemesi: admin
2025-04-15 16:40:17.343 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 16:40:17.343 +03:00 [INF] Admin session oluşturuldu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 16:40:17.343 +03:00 [INF] Yönlendirme adresi: /Fatura/Details/a95caab3-7ee2-4c73-9f2e-5c267dc4b869
2025-04-15 16:40:17.343 +03:00 [INF] Admin kullanıcısı /Fatura/Details/a95caab3-7ee2-4c73-9f2e-5c267dc4b869 adresine yönlendiriliyor
2025-04-15 16:40:54.076 +03:00 [ERR] Hata: 00-0d91ff566d27a2ccfde547bc550ffad5-a5a91fda8ad3682c-00, Kullanıcı: admin, Path: /Fatura/Edit/a95caab3-7ee2-4c73-9f2e-5c267dc4b869, Method: GET, QueryString: , IP: ::1, UserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Fatura_Edit.<ExecuteAsync>b__41_1() in /Users/muhammetkocaman/MuhasebeStokWebApp/Views/Fatura/Edit.cshtml:line 199
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_Fatura_Edit.ExecuteAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Views/Fatura/Edit.cshtml:line 5
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at MuhasebeStokWebApp.Middleware.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/muhammetkocaman/MuhasebeStokWebApp/Middleware/GlobalExceptionHandlingMiddleware.cs:line 31
2025-04-15 18:38:28.643 +03:00 [INF] Giriş denemesi: admin
2025-04-15 18:38:28.699 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 18:38:28.699 +03:00 [INF] Admin session oluşturuldu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 18:38:28.699 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 18:38:28.699 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 18:38:28.718 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 18:38:28.719 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 18:38:28.719 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 18:38:34.692 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 18:38:34.693 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 18:38:34.693 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 18:38:34.698 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 18:38:34.698 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 18:52:27.547 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 18:52:27.871 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 19:07:23.687 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 19:07:24.019 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 19:07:48.470 +03:00 [INF] Giriş denemesi: admin
2025-04-15 19:07:48.559 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 19:07:48.560 +03:00 [INF] Admin session oluşturuldu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 19:07:48.560 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 19:07:48.560 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 19:07:48.586 +03:00 [INF] Aktif session bulundu: UserID=ef485e54-df92-4418-ab3d-843fbb715fe1, UserName=admin
2025-04-15 19:07:48.587 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:07:48.587 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:26:37.065 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
DELETE FROM FaturaAklamaKuyruk;
2025-04-15 19:27:35.994 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
DELETE FROM Odemeler;
2025-04-15 19:30:14.333 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Faturalar]') AND [c].[name] = N'KdvTutari');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Faturalar] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Faturalar] ALTER COLUMN [KdvTutari] decimal(18,2) NOT NULL;
2025-04-15 19:35:15.810 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 19:35:16.121 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 19:38:54.254 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 19:38:54.737 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 19:39:01.504 +03:00 [INF] Giriş denemesi: admin
2025-04-15 19:39:01.634 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 19:39:01.635 +03:00 [INF] Admin session oluşturuldu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:39:01.635 +03:00 [INF] Yönlendirme adresi: /Urun
2025-04-15 19:39:01.635 +03:00 [INF] Admin kullanıcısı /Urun adresine yönlendiriliyor
2025-04-15 19:39:01.680 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:04.376 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:05.620 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:06.665 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:06.670 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:39:06.673 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:39:06.673 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:39:06.761 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:39:06.766 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:39:06.766 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:39:13.535 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:14.631 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:15.518 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:15.533 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 19:39:15.537 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 19:39:15.941 +03:00 [INF] Received HTTP response headers after 402.4625ms - 200
2025-04-15 19:39:15.946 +03:00 [INF] End processing HTTP request after 416.7838ms - 200
2025-04-15 19:39:15.980 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:19.472 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:21.604 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:30.640 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:30.687 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:33.480 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:42.100 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:42.118 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:46.278 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:47.571 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:49.090 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:49.090 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 19:39:49.091 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 19:39:49.182 +03:00 [INF] Received HTTP response headers after 91.4486ms - 200
2025-04-15 19:39:49.183 +03:00 [INF] End processing HTTP request after 92.0073ms - 200
2025-04-15 19:39:49.286 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:52.156 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:52.157 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:39:52.157 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:39:52.157 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:39:52.167 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:39:52.167 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:39:52.168 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:39:55.721 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:39:55.721 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:39:55.721 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:39:55.721 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:39:55.735 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:39:55.736 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:39:55.736 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:48:23.590 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:25.532 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:33.465 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:34.781 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:34.816 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 19:48:34.821 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:34.822 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:34.830 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:48:34.830 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:34.831 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:34.837 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:48:34.838 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:34.839 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:40.333 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:40.344 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 19:48:40.346 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:40.348 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:40.355 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:48:40.356 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:40.357 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:40.363 +03:00 [INF] Varsayılan menüleri oluşturma işlemi başlatıldı
2025-04-15 19:48:40.375 +03:00 [INF] Temizlenecek mevcut menü bulunamadı
2025-04-15 19:48:40.379 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:48:40.380 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:40.381 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:40.440 +03:00 [ERR] Failed executing DbCommand (36ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (DbType = Guid), @p163='?' (Size = 100), @p164='?' (Size = 100), @p165='?' (Size = 100), @p166='?' (DbType = DateTime2), @p167='?' (Size = 100), @p168='?' (DbType = Guid), @p169='?' (DbType = DateTime2), @p170='?' (DbType = Int32), @p171='?' (DbType = Guid), @p172='?' (Size = 255), @p173='?' (DbType = Guid), @p174='?' (DbType = Guid), @p175='?' (Size = 100), @p176='?' (Size = 100), @p177='?' (Size = 100), @p178='?' (DbType = DateTime2), @p179='?' (Size = 100), @p180='?' (DbType = Guid), @p181='?' (DbType = DateTime2), @p182='?' (DbType = Int32), @p183='?' (DbType = Guid), @p184='?' (Size = 255), @p185='?' (DbType = Guid), @p186='?' (DbType = Guid), @p187='?' (Size = 100), @p188='?' (Size = 100), @p189='?' (Size = 100), @p190='?' (DbType = DateTime2), @p191='?' (Size = 100), @p192='?' (DbType = Guid), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (DbType = Guid), @p196='?' (Size = 255), @p197='?' (DbType = Guid), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 0),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, 1),
(@p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 2),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 3),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 4),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 5),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 6),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 7),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 8),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 9),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 10),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 11),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 12),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 13),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 14),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 15),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 16),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 17),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 18),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 19),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 20),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 21),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 22),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 23),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 24),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 25),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 26),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 27),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 28),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 29)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:48:40.446 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:40.449 +03:00 [ERR] Menüler kaydedilirken hata oluştu: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
2025-04-15 19:48:40.472 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (DbType = Guid), @p181='?' (Size = 100), @p182='?' (Size = 100), @p183='?' (Size = 100), @p184='?' (DbType = DateTime2), @p185='?' (Size = 100), @p186='?' (DbType = Guid), @p187='?' (DbType = DateTime2), @p188='?' (DbType = Int32), @p189='?' (DbType = Guid), @p190='?' (Size = 255), @p191='?' (DbType = Guid), @p192='?' (DbType = Guid), @p193='?' (Size = 100), @p194='?' (Size = 100), @p195='?' (Size = 100), @p196='?' (DbType = DateTime2), @p197='?' (Size = 100), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = Int32), @p201='?' (DbType = Guid), @p202='?' (Size = 255), @p203='?' (DbType = Guid), @p204='?' (DbType = Guid), @p205='?' (Size = 100), @p206='?' (Size = 100), @p207='?' (Size = 100), @p208='?' (DbType = DateTime2), @p209='?' (Size = 100), @p210='?' (DbType = Guid), @p211='?' (DbType = DateTime2), @p212='?' (DbType = Int32), @p213='?' (DbType = Guid), @p214='?' (Size = 255), @p215='?' (DbType = Guid), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, 0),
(@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, 1),
(@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 2),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 3),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 4),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 5),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 6),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 7),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 8),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 9),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 10),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 11),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 12),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 13),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 14),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 15),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 16),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 17),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 18),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 19),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 20),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 21),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 22),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 23),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 24),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 25),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 26),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 27),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 28)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:48:40.473 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:40.474 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:40.475 +03:00 [ERR] Varsayılan menüleri oluşturma işlemi başarısız oldu: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979
2025-04-15 19:48:40.475 +03:00 [ERR] İç hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
2025-04-15 19:48:40.493 +03:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 0),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 1),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 2),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 3),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 4),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 5),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 6),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 7),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 9),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 10),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 11),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 12),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 13),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 14),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 15),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 16),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 17),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 18),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 19),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 20),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 21),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 22),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 23),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 24),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 25),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 26),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 27)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:48:40.495 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:40.495 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: An error occurred while saving the entity changes. See the inner exception for details.
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:40.528 +03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid), @p528='?' (DbType = Guid), @p529='?' (Size = 100), @p530='?' (Size = 100), @p531='?' (Size = 100), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (DbType = Guid), @p535='?' (DbType = DateTime2), @p536='?' (DbType = Int32), @p537='?' (DbType = Guid), @p538='?' (Size = 255), @p539='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 0),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 1),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 2),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 3),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 4),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 5),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 6),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 7),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 8),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 9),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 10),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 11),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 12),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 13),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 14),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 15),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 16),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 17),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 18),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 19),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 20),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 21),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 22),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 23),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 24),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 25),
(@p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, 26)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:48:40.529 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:40.530 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:40.546 +03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (Size = 4000), @p217='?' (DbType = Boolean), @p218='?' (Size = 4000), @p219='?' (Size = 50), @p220='?' (DbType = DateTime2), @p221='?' (Size = 50), @p222='?' (Size = 250), @p223='?' (DbType = Guid), @p224='?' (Size = 4000), @p225='?' (DbType = Guid), @p226='?' (Size = 128) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (Size = 50), @p229='?' (DbType = Int32), @p230='?' (Size = 2000), @p231='?' (DbType = DateTime2), @p232='?' (Size = 250), @p233='?' (Size = 250), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid), @p534='?' (DbType = Guid), @p535='?' (Size = 100), @p536='?' (Size = 100), @p537='?' (Size = 100), @p538='?' (DbType = DateTime2), @p539='?' (Size = 100), @p540='?' (DbType = Guid), @p541='?' (DbType = DateTime2), @p542='?' (DbType = Int32), @p543='?' (DbType = Guid), @p544='?' (Size = 255), @p545='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 6)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 0),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 1),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 2),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 3),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 4),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 5),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 6),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 7),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 8),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 9),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 10),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 11),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 12),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 13),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 14),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 15),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 16),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 17),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 18),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 19),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 20),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 21),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 22),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 23),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 24),
(@p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, 25)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:48:40.548 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:48:40.548 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm: Varsayılan menüler oluşturulamadı. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07482a7e-5d1d-4ae9-8477-c3dde7c4f402
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:48:40.556 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:43.482 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:45.145 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:45.146 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:48:45.146 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:48:45.146 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:48:45.156 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:48:45.157 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:48:45.157 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:48:54.219 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:54.221 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 19:48:54.224 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 19:48:54.233 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:48:54.233 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:48:54.234 +03:00 [ERR] Döviz kurları yenilenirken hata oluştu
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.RefreshCurrencyRates() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 175
2025-04-15 19:48:54.246 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:54.246 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:48:54.246 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:48:54.246 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:48:54.251 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:48:54.252 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:48:54.252 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:48:55.601 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:55.602 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 19:48:55.602 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 19:48:55.609 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:48:55.609 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:48:55.610 +03:00 [ERR] Döviz kurları yenilenirken hata oluştu
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.RefreshCurrencyRates() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 175
2025-04-15 19:48:55.625 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:55.626 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:48:55.626 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:48:55.626 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:48:55.635 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:48:55.636 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:48:55.637 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:48:58.936 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:58.936 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 19:48:58.936 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 19:48:58.940 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:48:58.941 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:48:58.941 +03:00 [ERR] Döviz kurları yenilenirken hata oluştu
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.RefreshCurrencyRates() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 175
2025-04-15 19:48:58.959 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:48:58.959 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:48:58.959 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:48:58.959 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:48:58.967 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:48:58.967 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:48:58.967 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:49:24.923 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 19:49:25.348 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 19:50:15.964 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 19:50:16.266 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 19:50:26.654 +03:00 [INF] Giriş denemesi: admin
2025-04-15 19:50:26.748 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 19:50:26.748 +03:00 [INF] Admin session oluşturuldu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:50:26.748 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 19:50:26.748 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 19:50:26.824 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:50:26.828 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:50:26.830 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:50:26.830 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:50:26.914 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:50:26.919 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:50:26.919 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:50:33.940 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:50:36.397 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:50:37.341 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:50:37.358 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 19:50:37.361 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 19:50:37.760 +03:00 [INF] Received HTTP response headers after 397.6326ms - 200
2025-04-15 19:50:37.765 +03:00 [INF] End processing HTTP request after 411.1789ms - 200
2025-04-15 19:50:37.842 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:50:43.523 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:50:43.524 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:50:43.524 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:50:43.524 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:50:43.540 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:50:43.541 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:50:43.541 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:50:52.001 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:50:59.827 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:01.192 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:01.256 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 19:51:01.259 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:01.260 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:01.270 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:51:01.271 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:01.271 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:01.277 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:51:01.278 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:01.278 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:03.494 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:03.504 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 19:51:03.506 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:03.508 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:03.515 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:51:03.516 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:03.517 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:03.525 +03:00 [INF] Varsayılan menüleri oluşturma işlemi başlatıldı
2025-04-15 19:51:03.534 +03:00 [INF] Temizlenecek mevcut menü bulunamadı
2025-04-15 19:51:03.539 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:51:03.540 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:03.540 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:03.605 +03:00 [ERR] Failed executing DbCommand (32ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (DbType = Guid), @p163='?' (Size = 100), @p164='?' (Size = 100), @p165='?' (Size = 100), @p166='?' (DbType = DateTime2), @p167='?' (Size = 100), @p168='?' (DbType = Guid), @p169='?' (DbType = DateTime2), @p170='?' (DbType = Int32), @p171='?' (DbType = Guid), @p172='?' (Size = 255), @p173='?' (DbType = Guid), @p174='?' (DbType = Guid), @p175='?' (Size = 100), @p176='?' (Size = 100), @p177='?' (Size = 100), @p178='?' (DbType = DateTime2), @p179='?' (Size = 100), @p180='?' (DbType = Guid), @p181='?' (DbType = DateTime2), @p182='?' (DbType = Int32), @p183='?' (DbType = Guid), @p184='?' (Size = 255), @p185='?' (DbType = Guid), @p186='?' (DbType = Guid), @p187='?' (Size = 100), @p188='?' (Size = 100), @p189='?' (Size = 100), @p190='?' (DbType = DateTime2), @p191='?' (Size = 100), @p192='?' (DbType = Guid), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (DbType = Guid), @p196='?' (Size = 255), @p197='?' (DbType = Guid), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 0),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, 1),
(@p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 2),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 3),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 4),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 5),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 6),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 7),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 8),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 9),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 10),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 11),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 12),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 13),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 14),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 15),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 16),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 17),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 18),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 19),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 20),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 21),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 22),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 23),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 24),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 25),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 26),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 27),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 28),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 29)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:51:03.609 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:03.614 +03:00 [ERR] Menüler kaydedilirken hata oluştu: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
2025-04-15 19:51:03.636 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (DbType = Guid), @p181='?' (Size = 100), @p182='?' (Size = 100), @p183='?' (Size = 100), @p184='?' (DbType = DateTime2), @p185='?' (Size = 100), @p186='?' (DbType = Guid), @p187='?' (DbType = DateTime2), @p188='?' (DbType = Int32), @p189='?' (DbType = Guid), @p190='?' (Size = 255), @p191='?' (DbType = Guid), @p192='?' (DbType = Guid), @p193='?' (Size = 100), @p194='?' (Size = 100), @p195='?' (Size = 100), @p196='?' (DbType = DateTime2), @p197='?' (Size = 100), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = Int32), @p201='?' (DbType = Guid), @p202='?' (Size = 255), @p203='?' (DbType = Guid), @p204='?' (DbType = Guid), @p205='?' (Size = 100), @p206='?' (Size = 100), @p207='?' (Size = 100), @p208='?' (DbType = DateTime2), @p209='?' (Size = 100), @p210='?' (DbType = Guid), @p211='?' (DbType = DateTime2), @p212='?' (DbType = Int32), @p213='?' (DbType = Guid), @p214='?' (Size = 255), @p215='?' (DbType = Guid), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, 0),
(@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, 1),
(@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 2),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 3),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 4),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 5),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 6),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 7),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 8),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 9),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 10),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 11),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 12),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 13),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 14),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 15),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 16),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 17),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 18),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 19),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 20),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 21),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 22),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 23),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 24),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 25),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 26),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 27),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 28)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:51:03.639 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:03.640 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:03.640 +03:00 [ERR] Varsayılan menüleri oluşturma işlemi başarısız oldu: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979
2025-04-15 19:51:03.641 +03:00 [ERR] İç hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
2025-04-15 19:51:03.662 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 0),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 1),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 2),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 3),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 4),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 5),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 6),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 7),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 9),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 10),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 11),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 12),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 13),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 14),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 15),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 16),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 17),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 18),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 19),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 20),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 21),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 22),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 23),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 24),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 25),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 26),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 27)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:51:03.664 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:03.664 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: An error occurred while saving the entity changes. See the inner exception for details.
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:03.694 +03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid), @p528='?' (DbType = Guid), @p529='?' (Size = 100), @p530='?' (Size = 100), @p531='?' (Size = 100), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (DbType = Guid), @p535='?' (DbType = DateTime2), @p536='?' (DbType = Int32), @p537='?' (DbType = Guid), @p538='?' (Size = 255), @p539='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 0),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 1),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 2),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 3),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 4),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 5),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 6),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 7),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 8),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 9),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 10),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 11),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 12),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 13),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 14),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 15),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 16),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 17),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 18),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 19),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 20),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 21),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 22),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 23),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 24),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 25),
(@p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, 26)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:51:03.696 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:03.697 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:03.715 +03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (Size = 4000), @p217='?' (DbType = Boolean), @p218='?' (Size = 4000), @p219='?' (Size = 50), @p220='?' (DbType = DateTime2), @p221='?' (Size = 50), @p222='?' (Size = 250), @p223='?' (DbType = Guid), @p224='?' (Size = 4000), @p225='?' (DbType = Guid), @p226='?' (Size = 128) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (Size = 50), @p229='?' (DbType = Int32), @p230='?' (Size = 2000), @p231='?' (DbType = DateTime2), @p232='?' (Size = 250), @p233='?' (Size = 250), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid), @p534='?' (DbType = Guid), @p535='?' (Size = 100), @p536='?' (Size = 100), @p537='?' (Size = 100), @p538='?' (DbType = DateTime2), @p539='?' (Size = 100), @p540='?' (DbType = Guid), @p541='?' (DbType = DateTime2), @p542='?' (DbType = Int32), @p543='?' (DbType = Guid), @p544='?' (Size = 255), @p545='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 6)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 0),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 1),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 2),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 3),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 4),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 5),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 6),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 7),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 8),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 9),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 10),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 11),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 12),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 13),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 14),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 15),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 16),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 17),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 18),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 19),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 20),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 21),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 22),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 23),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 24),
(@p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, 25)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:51:03.717 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:51:03.717 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm: Varsayılan menüler oluşturulamadı. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:51:03.726 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:23.302 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:25.034 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:26.304 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:26.304 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:51:26.304 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:51:26.304 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:51:26.316 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:51:26.317 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:51:26.317 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:51:27.793 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:29.454 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:31.977 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:33.774 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:36.072 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:36.072 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:51:36.072 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:51:36.072 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:51:36.088 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:51:36.089 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:51:36.089 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:51:37.737 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:39.271 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:39.271 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:51:39.272 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:51:39.272 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:51:39.287 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:51:39.288 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:51:39.288 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:51:47.233 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:47.235 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 19:51:47.237 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 19:51:47.246 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:51:47.246 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:51:47.247 +03:00 [ERR] Döviz kurları yenilenirken hata oluştu
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.RefreshCurrencyRates() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 175
2025-04-15 19:51:47.260 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:51:47.260 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 19:51:47.260 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 19:51:47.260 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:51:47.267 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:51:47.268 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:51:47.268 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:52:39.615 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:52:43.496 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:52:43.501 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 19:52:43.504 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:52:43.506 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:52:43.517 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:52:43.519 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:52:43.521 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:52:43.527 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:52:43.528 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:52:43.529 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:53:27.305 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:53:27.309 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 19:53:27.312 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:53:27.314 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:53:27.323 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:53:27.325 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:53:27.326 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:53:27.328 +03:00 [INF] Varsayılan menüleri oluşturma işlemi başlatıldı
2025-04-15 19:53:27.332 +03:00 [INF] Temizlenecek mevcut menü bulunamadı
2025-04-15 19:53:27.339 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:53:27.340 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:53:27.340 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:53:27.378 +03:00 [ERR] Failed executing DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (DbType = Guid), @p163='?' (Size = 100), @p164='?' (Size = 100), @p165='?' (Size = 100), @p166='?' (DbType = DateTime2), @p167='?' (Size = 100), @p168='?' (DbType = Guid), @p169='?' (DbType = DateTime2), @p170='?' (DbType = Int32), @p171='?' (DbType = Guid), @p172='?' (Size = 255), @p173='?' (DbType = Guid), @p174='?' (DbType = Guid), @p175='?' (Size = 100), @p176='?' (Size = 100), @p177='?' (Size = 100), @p178='?' (DbType = DateTime2), @p179='?' (Size = 100), @p180='?' (DbType = Guid), @p181='?' (DbType = DateTime2), @p182='?' (DbType = Int32), @p183='?' (DbType = Guid), @p184='?' (Size = 255), @p185='?' (DbType = Guid), @p186='?' (DbType = Guid), @p187='?' (Size = 100), @p188='?' (Size = 100), @p189='?' (Size = 100), @p190='?' (DbType = DateTime2), @p191='?' (Size = 100), @p192='?' (DbType = Guid), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (DbType = Guid), @p196='?' (Size = 255), @p197='?' (DbType = Guid), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 0),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, 1),
(@p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 2),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 3),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 4),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 5),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 6),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 7),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 8),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 9),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 10),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 11),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 12),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 13),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 14),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 15),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 16),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 17),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 18),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 19),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 20),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 21),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 22),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 23),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 24),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 25),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 26),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 27),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 28),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 29)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:53:27.380 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:53:27.382 +03:00 [ERR] Menüler kaydedilirken hata oluştu: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
2025-04-15 19:53:27.408 +03:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (DbType = Guid), @p181='?' (Size = 100), @p182='?' (Size = 100), @p183='?' (Size = 100), @p184='?' (DbType = DateTime2), @p185='?' (Size = 100), @p186='?' (DbType = Guid), @p187='?' (DbType = DateTime2), @p188='?' (DbType = Int32), @p189='?' (DbType = Guid), @p190='?' (Size = 255), @p191='?' (DbType = Guid), @p192='?' (DbType = Guid), @p193='?' (Size = 100), @p194='?' (Size = 100), @p195='?' (Size = 100), @p196='?' (DbType = DateTime2), @p197='?' (Size = 100), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = Int32), @p201='?' (DbType = Guid), @p202='?' (Size = 255), @p203='?' (DbType = Guid), @p204='?' (DbType = Guid), @p205='?' (Size = 100), @p206='?' (Size = 100), @p207='?' (Size = 100), @p208='?' (DbType = DateTime2), @p209='?' (Size = 100), @p210='?' (DbType = Guid), @p211='?' (DbType = DateTime2), @p212='?' (DbType = Int32), @p213='?' (DbType = Guid), @p214='?' (Size = 255), @p215='?' (DbType = Guid), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, 0),
(@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, 1),
(@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 2),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 3),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 4),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 5),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 6),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 7),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 8),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 9),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 10),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 11),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 12),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 13),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 14),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 15),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 16),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 17),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 18),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 19),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 20),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 21),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 22),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 23),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 24),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 25),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 26),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 27),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 28)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:53:27.410 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:53:27.411 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:53:27.411 +03:00 [ERR] Varsayılan menüleri oluşturma işlemi başarısız oldu: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979
2025-04-15 19:53:27.412 +03:00 [ERR] İç hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
2025-04-15 19:53:27.431 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 0),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 1),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 2),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 3),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 4),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 5),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 6),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 7),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 9),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 10),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 11),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 12),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 13),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 14),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 15),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 16),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 17),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 18),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 19),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 20),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 21),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 22),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 23),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 24),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 25),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 26),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 27)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:53:27.433 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:53:27.434 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: An error occurred while saving the entity changes. See the inner exception for details.
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:53:27.453 +03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid), @p528='?' (DbType = Guid), @p529='?' (Size = 100), @p530='?' (Size = 100), @p531='?' (Size = 100), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (DbType = Guid), @p535='?' (DbType = DateTime2), @p536='?' (DbType = Int32), @p537='?' (DbType = Guid), @p538='?' (Size = 255), @p539='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 0),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 1),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 2),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 3),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 4),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 5),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 6),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 7),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 8),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 9),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 10),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 11),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 12),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 13),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 14),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 15),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 16),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 17),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 18),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 19),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 20),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 21),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 22),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 23),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 24),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 25),
(@p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, 26)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:53:27.455 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:53:27.456 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:53:27.473 +03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (Size = 4000), @p217='?' (DbType = Boolean), @p218='?' (Size = 4000), @p219='?' (Size = 50), @p220='?' (DbType = DateTime2), @p221='?' (Size = 50), @p222='?' (Size = 250), @p223='?' (DbType = Guid), @p224='?' (Size = 4000), @p225='?' (DbType = Guid), @p226='?' (Size = 128) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (Size = 50), @p229='?' (DbType = Int32), @p230='?' (Size = 2000), @p231='?' (DbType = DateTime2), @p232='?' (Size = 250), @p233='?' (Size = 250), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid), @p534='?' (DbType = Guid), @p535='?' (Size = 100), @p536='?' (Size = 100), @p537='?' (Size = 100), @p538='?' (DbType = DateTime2), @p539='?' (Size = 100), @p540='?' (DbType = Guid), @p541='?' (DbType = DateTime2), @p542='?' (DbType = Int32), @p543='?' (DbType = Guid), @p544='?' (Size = 255), @p545='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 6)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 0),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 1),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 2),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 3),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 4),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 5),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 6),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 7),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 8),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 9),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 10),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 11),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 12),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 13),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 14),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 15),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 16),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 17),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 18),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 19),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 20),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 21),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 22),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 23),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 24),
(@p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, 25)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:53:27.474 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:53:27.475 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm: Varsayılan menüler oluşturulamadı. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5a6bcfb1-2c72-4954-abab-fbcd19bef64f
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:53:27.483 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:55:49.354 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 19:55:49.683 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 19:55:49.877 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-15 19:56:05.044 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 19:56:05.366 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 19:56:08.878 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:56:08.886 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 19:56:08.887 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:56:08.986 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:56:08.998 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:56:08.999 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:56:12.836 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:56:14.009 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:56:14.071 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 19:56:14.077 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:14.078 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:14.089 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:56:14.090 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:14.091 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:14.097 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:56:14.098 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:14.099 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:16.219 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:56:16.227 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 19:56:16.228 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:16.229 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:16.235 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:56:16.236 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:16.237 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:16.242 +03:00 [INF] Varsayılan menüleri oluşturma işlemi başlatıldı
2025-04-15 19:56:16.250 +03:00 [INF] Temizlenecek mevcut menü bulunamadı
2025-04-15 19:56:16.256 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 19:56:16.257 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:16.258 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:16.326 +03:00 [ERR] Failed executing DbCommand (34ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (DbType = Guid), @p163='?' (Size = 100), @p164='?' (Size = 100), @p165='?' (Size = 100), @p166='?' (DbType = DateTime2), @p167='?' (Size = 100), @p168='?' (DbType = Guid), @p169='?' (DbType = DateTime2), @p170='?' (DbType = Int32), @p171='?' (DbType = Guid), @p172='?' (Size = 255), @p173='?' (DbType = Guid), @p174='?' (DbType = Guid), @p175='?' (Size = 100), @p176='?' (Size = 100), @p177='?' (Size = 100), @p178='?' (DbType = DateTime2), @p179='?' (Size = 100), @p180='?' (DbType = Guid), @p181='?' (DbType = DateTime2), @p182='?' (DbType = Int32), @p183='?' (DbType = Guid), @p184='?' (Size = 255), @p185='?' (DbType = Guid), @p186='?' (DbType = Guid), @p187='?' (Size = 100), @p188='?' (Size = 100), @p189='?' (Size = 100), @p190='?' (DbType = DateTime2), @p191='?' (Size = 100), @p192='?' (DbType = Guid), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (DbType = Guid), @p196='?' (Size = 255), @p197='?' (DbType = Guid), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 0),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, 1),
(@p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 2),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 3),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 4),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 5),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 6),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 7),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 8),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 9),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 10),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 11),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 12),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 13),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 14),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 15),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 16),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 17),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 18),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 19),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 20),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 21),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 22),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 23),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 24),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 25),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 26),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 27),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 28),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 29)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:56:16.330 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:16.336 +03:00 [ERR] Menüler kaydedilirken hata oluştu: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
2025-04-15 19:56:16.464 +03:00 [ERR] Failed executing DbCommand (102ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (DbType = Guid), @p181='?' (Size = 100), @p182='?' (Size = 100), @p183='?' (Size = 100), @p184='?' (DbType = DateTime2), @p185='?' (Size = 100), @p186='?' (DbType = Guid), @p187='?' (DbType = DateTime2), @p188='?' (DbType = Int32), @p189='?' (DbType = Guid), @p190='?' (Size = 255), @p191='?' (DbType = Guid), @p192='?' (DbType = Guid), @p193='?' (Size = 100), @p194='?' (Size = 100), @p195='?' (Size = 100), @p196='?' (DbType = DateTime2), @p197='?' (Size = 100), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = Int32), @p201='?' (DbType = Guid), @p202='?' (Size = 255), @p203='?' (DbType = Guid), @p204='?' (DbType = Guid), @p205='?' (Size = 100), @p206='?' (Size = 100), @p207='?' (Size = 100), @p208='?' (DbType = DateTime2), @p209='?' (Size = 100), @p210='?' (DbType = Guid), @p211='?' (DbType = DateTime2), @p212='?' (DbType = Int32), @p213='?' (DbType = Guid), @p214='?' (Size = 255), @p215='?' (DbType = Guid), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, 0),
(@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, 1),
(@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 2),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 3),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 4),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 5),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 6),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 7),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 8),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 9),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 10),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 11),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 12),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 13),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 14),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 15),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 16),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 17),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 18),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 19),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 20),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 21),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 22),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 23),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 24),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 25),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 26),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 27),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 28)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:56:16.481 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:16.482 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:16.483 +03:00 [ERR] Varsayılan menüleri oluşturma işlemi başarısız oldu: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979
2025-04-15 19:56:16.483 +03:00 [ERR] İç hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
2025-04-15 19:56:16.519 +03:00 [ERR] Failed executing DbCommand (32ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 0),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 1),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 2),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 3),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 4),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 5),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 6),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 7),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 9),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 10),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 11),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 12),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 13),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 14),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 15),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 16),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 17),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 18),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 19),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 20),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 21),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 22),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 23),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 24),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 25),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 26),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 27)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:56:16.520 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:16.521 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: An error occurred while saving the entity changes. See the inner exception for details.
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:16.548 +03:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid), @p528='?' (DbType = Guid), @p529='?' (Size = 100), @p530='?' (Size = 100), @p531='?' (Size = 100), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (DbType = Guid), @p535='?' (DbType = DateTime2), @p536='?' (DbType = Int32), @p537='?' (DbType = Guid), @p538='?' (Size = 255), @p539='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 0),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 1),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 2),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 3),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 4),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 5),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 6),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 7),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 8),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 9),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 10),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 11),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 12),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 13),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 14),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 15),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 16),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 17),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 18),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 19),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 20),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 21),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 22),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 23),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 24),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 25),
(@p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, 26)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:56:16.550 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:16.550 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:16.567 +03:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (Size = 4000), @p217='?' (DbType = Boolean), @p218='?' (Size = 4000), @p219='?' (Size = 50), @p220='?' (DbType = DateTime2), @p221='?' (Size = 50), @p222='?' (Size = 250), @p223='?' (DbType = Guid), @p224='?' (Size = 4000), @p225='?' (DbType = Guid), @p226='?' (Size = 128) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (Size = 50), @p229='?' (DbType = Int32), @p230='?' (Size = 2000), @p231='?' (DbType = DateTime2), @p232='?' (Size = 250), @p233='?' (Size = 250), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid), @p534='?' (DbType = Guid), @p535='?' (Size = 100), @p536='?' (Size = 100), @p537='?' (Size = 100), @p538='?' (DbType = DateTime2), @p539='?' (Size = 100), @p540='?' (DbType = Guid), @p541='?' (DbType = DateTime2), @p542='?' (DbType = Int32), @p543='?' (DbType = Guid), @p544='?' (Size = 255), @p545='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 6)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 0),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 1),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 2),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 3),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 4),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 5),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 6),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 7),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 8),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 9),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 10),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 11),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 12),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 13),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 14),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 15),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 16),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 17),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 18),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 19),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 20),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 21),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 22),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 23),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 24),
(@p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, 25)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 19:56:16.568 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 19:56:16.569 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm: Varsayılan menüler oluşturulamadı. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f17b38a7-0d9d-4352-9ed5-1dd4f4684ddb
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 19:56:16.577 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:56:58.407 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:56:58.408 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 19:56:58.408 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 19:56:58.417 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 19:56:58.418 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 19:56:58.418 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 19:57:04.657 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 19:59:06.590 +03:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                IF EXISTS (
                    SELECT * FROM sys.columns 
                    WHERE NAME = 'KullaniciId' AND Object_ID = Object_ID('SistemLoglar')
                )
                BEGIN
                    -- KullaniciId sütununu yeniden oluşturalım
                    ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    
                    -- KullaniciID sütununun adını değiştiriyoruz (şema ile uyumlu olması için)
                    EXEC sp_rename 'SistemLoglar.KullaniciID', 'KullaniciId', 'COLUMN';
                END
2025-04-15 20:01:12.041 +03:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                IF EXISTS (
                    SELECT 1 FROM INFORMATION_SCHEMA.COLUMNS 
                    WHERE TABLE_NAME = 'SistemLoglar' AND COLUMN_NAME = 'KullaniciId'
                )
                BEGIN
                    -- Geçici olarak KullaniciId_Temp adlı bir kolon ekle
                    ALTER TABLE SistemLoglar ADD KullaniciId_Temp uniqueidentifier NULL;

                    -- KullaniciId kolonundaki değerleri geçici kolona kopyala
                    UPDATE SistemLoglar SET KullaniciId_Temp = KullaniciId;

                    -- İlişkiye referans veren indeksi ve kısıtlamayı düşür
                    IF EXISTS (SELECT 1 FROM sys.indexes WHERE name = 'IX_SistemLoglar_KullaniciId')
                        DROP INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar;
                    
                    IF EXISTS (SELECT 1 FROM sys.foreign_keys WHERE name = 'FK_SistemLoglar_AspNetUsers_KullaniciId')
                        ALTER TABLE SistemLoglar DROP CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId;

                    -- Eski kolonları sil
                    IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'SistemLoglar' AND COLUMN_NAME = 'KullaniciId')
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    
                    IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'SistemLoglar' AND COLUMN_NAME = 'KullaniciID')
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciID;

                    -- Geçici kolonu doğru adla tekrar adlandır
                    ALTER TABLE SistemLoglar ADD KullaniciId uniqueidentifier NULL;
                    
                    -- Verileri geri kopyala
                    UPDATE SistemLoglar SET KullaniciId = KullaniciId_Temp;
                    
                    -- Geçici kolonu sil
                    ALTER TABLE SistemLoglar DROP COLUMN KullaniciId_Temp;
                    
                    -- Yeni Foreign Key ilişkisini oluştur
                    ALTER TABLE SistemLoglar ADD CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId 
                    FOREIGN KEY (KullaniciId) REFERENCES AspNetUsers(Id);
                    
                    -- İndexini de oluştur
                    CREATE INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar(KullaniciId);
                END
2025-04-15 20:01:52.709 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 20:01:53.046 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 20:01:53.229 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-15 20:02:32.055 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 20:02:32.375 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 20:02:32.517 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-15 20:02:50.568 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 20:02:50.871 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 20:02:56.336 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:02:56.343 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 20:02:56.344 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 20:02:56.433 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 20:02:56.437 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 20:02:56.437 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 20:03:01.725 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:03.165 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:03.210 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 20:03:03.215 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:03.216 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:03.228 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 20:03:03.229 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:03.230 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:03.237 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 20:03:03.238 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:03.238 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:05.299 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:05.304 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 20:03:05.305 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:05.305 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:05.310 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 20:03:05.311 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:05.314 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:05.320 +03:00 [INF] Varsayılan menüleri oluşturma işlemi başlatıldı
2025-04-15 20:03:05.327 +03:00 [INF] Temizlenecek mevcut menü bulunamadı
2025-04-15 20:03:05.332 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 20:03:05.333 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:05.334 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:05.390 +03:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (DbType = Guid), @p163='?' (Size = 100), @p164='?' (Size = 100), @p165='?' (Size = 100), @p166='?' (DbType = DateTime2), @p167='?' (Size = 100), @p168='?' (DbType = Guid), @p169='?' (DbType = DateTime2), @p170='?' (DbType = Int32), @p171='?' (DbType = Guid), @p172='?' (Size = 255), @p173='?' (DbType = Guid), @p174='?' (DbType = Guid), @p175='?' (Size = 100), @p176='?' (Size = 100), @p177='?' (Size = 100), @p178='?' (DbType = DateTime2), @p179='?' (Size = 100), @p180='?' (DbType = Guid), @p181='?' (DbType = DateTime2), @p182='?' (DbType = Int32), @p183='?' (DbType = Guid), @p184='?' (Size = 255), @p185='?' (DbType = Guid), @p186='?' (DbType = Guid), @p187='?' (Size = 100), @p188='?' (Size = 100), @p189='?' (Size = 100), @p190='?' (DbType = DateTime2), @p191='?' (Size = 100), @p192='?' (DbType = Guid), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (DbType = Guid), @p196='?' (Size = 255), @p197='?' (DbType = Guid), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 0),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, 1),
(@p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 2),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 3),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 4),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 5),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 6),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 7),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 8),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 9),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 10),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 11),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 12),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 13),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 14),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 15),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 16),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 17),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 18),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 19),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 20),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 21),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 22),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 23),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 24),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 25),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 26),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 27),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 28),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 29)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:05.393 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:05.414 +03:00 [ERR] Menüler kaydedilirken hata oluştu: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
2025-04-15 20:03:05.435 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (DbType = Guid), @p181='?' (Size = 100), @p182='?' (Size = 100), @p183='?' (Size = 100), @p184='?' (DbType = DateTime2), @p185='?' (Size = 100), @p186='?' (DbType = Guid), @p187='?' (DbType = DateTime2), @p188='?' (DbType = Int32), @p189='?' (DbType = Guid), @p190='?' (Size = 255), @p191='?' (DbType = Guid), @p192='?' (DbType = Guid), @p193='?' (Size = 100), @p194='?' (Size = 100), @p195='?' (Size = 100), @p196='?' (DbType = DateTime2), @p197='?' (Size = 100), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = Int32), @p201='?' (DbType = Guid), @p202='?' (Size = 255), @p203='?' (DbType = Guid), @p204='?' (DbType = Guid), @p205='?' (Size = 100), @p206='?' (Size = 100), @p207='?' (Size = 100), @p208='?' (DbType = DateTime2), @p209='?' (Size = 100), @p210='?' (DbType = Guid), @p211='?' (DbType = DateTime2), @p212='?' (DbType = Int32), @p213='?' (DbType = Guid), @p214='?' (Size = 255), @p215='?' (DbType = Guid), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, 0),
(@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, 1),
(@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 2),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 3),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 4),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 5),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 6),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 7),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 8),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 9),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 10),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 11),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 12),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 13),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 14),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 15),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 16),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 17),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 18),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 19),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 20),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 21),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 22),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 23),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 24),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 25),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 26),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 27),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 28)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:05.438 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:05.438 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:05.439 +03:00 [ERR] Varsayılan menüleri oluşturma işlemi başarısız oldu: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979
2025-04-15 20:03:05.440 +03:00 [ERR] İç hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
2025-04-15 20:03:05.457 +03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 0),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 1),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 2),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 3),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 4),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 5),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 6),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 7),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 9),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 10),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 11),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 12),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 13),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 14),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 15),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 16),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 17),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 18),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 19),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 20),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 21),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 22),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 23),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 24),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 25),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 26),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 27)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:05.459 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:05.459 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: An error occurred while saving the entity changes. See the inner exception for details.
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:05.489 +03:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid), @p528='?' (DbType = Guid), @p529='?' (Size = 100), @p530='?' (Size = 100), @p531='?' (Size = 100), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (DbType = Guid), @p535='?' (DbType = DateTime2), @p536='?' (DbType = Int32), @p537='?' (DbType = Guid), @p538='?' (Size = 255), @p539='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 0),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 1),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 2),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 3),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 4),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 5),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 6),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 7),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 8),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 9),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 10),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 11),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 12),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 13),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 14),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 15),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 16),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 17),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 18),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 19),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 20),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 21),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 22),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 23),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 24),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 25),
(@p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, 26)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:05.490 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:05.491 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:05.511 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (Size = 4000), @p217='?' (DbType = Boolean), @p218='?' (Size = 4000), @p219='?' (Size = 50), @p220='?' (DbType = DateTime2), @p221='?' (Size = 50), @p222='?' (Size = 250), @p223='?' (DbType = Guid), @p224='?' (Size = 4000), @p225='?' (DbType = Guid), @p226='?' (Size = 128) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (Size = 50), @p229='?' (DbType = Int32), @p230='?' (Size = 2000), @p231='?' (DbType = DateTime2), @p232='?' (Size = 250), @p233='?' (Size = 250), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid), @p534='?' (DbType = Guid), @p535='?' (Size = 100), @p536='?' (Size = 100), @p537='?' (Size = 100), @p538='?' (DbType = DateTime2), @p539='?' (Size = 100), @p540='?' (DbType = Guid), @p541='?' (DbType = DateTime2), @p542='?' (DbType = Int32), @p543='?' (DbType = Guid), @p544='?' (Size = 255), @p545='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 6)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 0),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 1),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 2),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 3),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 4),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 5),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 6),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 7),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 8),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 9),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 10),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 11),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 12),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 13),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 14),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 15),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 16),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 17),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 18),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 19),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 20),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 21),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 22),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 23),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 24),
(@p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, 25)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:05.513 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:05.513 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm: Varsayılan menüler oluşturulamadı. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:05.522 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:09.694 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:11.432 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:11.444 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 20:03:11.445 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:11.446 +03:00 [ERR] Log ekleme hatası: SistemLogController.Index - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:22.877 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:25.697 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:28.218 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:29.153 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:29.169 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 20:03:29.172 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 20:03:29.633 +03:00 [INF] Received HTTP response headers after 458.4598ms - 200
2025-04-15 20:03:29.638 +03:00 [INF] End processing HTTP request after 471.7282ms - 200
2025-04-15 20:03:29.714 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:34.423 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:34.459 +03:00 [INF] 0 adet para birimi ilişkisi listelendi.
2025-04-15 20:03:38.902 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:40.308 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:40.315 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 20:03:40.317 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:40.318 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:40.326 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 20:03:40.328 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:40.329 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:40.334 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 20:03:40.335 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:40.335 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaults - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:42.647 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:03:42.652 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SistemLoglar] ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-04-15 20:03:42.655 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:42.656 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'KullaniciId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:42.668 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 20:03:42.669 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:42.671 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:42.673 +03:00 [INF] Varsayılan menüleri oluşturma işlemi başlatıldı
2025-04-15 20:03:42.675 +03:00 [INF] Temizlenecek mevcut menü bulunamadı
2025-04-15 20:03:42.681 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 250), @p7='?' (DbType = Guid), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (DbType = Guid), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Size = 2000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 250), @p17='?' (Size = 250), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (Size = 250), @p25='?' (DbType = Guid), @p26='?' (Size = 4000), @p27='?' (DbType = Guid), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (Size = 2000), @p33='?' (DbType = DateTime2), @p34='?' (Size = 250), @p35='?' (Size = 250), @p36='?' (Size = 4000), @p37='?' (DbType = Boolean), @p38='?' (Size = 4000), @p39='?' (Size = 50), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Size = 250), @p43='?' (DbType = Guid), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (Size = 50), @p49='?' (DbType = Int32), @p50='?' (Size = 2000), @p51='?' (DbType = DateTime2), @p52='?' (Size = 250), @p53='?' (Size = 250)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SistemLoglar] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 0),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
2025-04-15 20:03:42.682 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:42.683 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:42.723 +03:00 [ERR] Failed executing DbCommand (30ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (DbType = Guid), @p163='?' (Size = 100), @p164='?' (Size = 100), @p165='?' (Size = 100), @p166='?' (DbType = DateTime2), @p167='?' (Size = 100), @p168='?' (DbType = Guid), @p169='?' (DbType = DateTime2), @p170='?' (DbType = Int32), @p171='?' (DbType = Guid), @p172='?' (Size = 255), @p173='?' (DbType = Guid), @p174='?' (DbType = Guid), @p175='?' (Size = 100), @p176='?' (Size = 100), @p177='?' (Size = 100), @p178='?' (DbType = DateTime2), @p179='?' (Size = 100), @p180='?' (DbType = Guid), @p181='?' (DbType = DateTime2), @p182='?' (DbType = Int32), @p183='?' (DbType = Guid), @p184='?' (Size = 255), @p185='?' (DbType = Guid), @p186='?' (DbType = Guid), @p187='?' (Size = 100), @p188='?' (Size = 100), @p189='?' (Size = 100), @p190='?' (DbType = DateTime2), @p191='?' (Size = 100), @p192='?' (DbType = Guid), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (DbType = Guid), @p196='?' (Size = 255), @p197='?' (DbType = Guid), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 0),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, 1),
(@p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 2),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 3),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 4),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 5),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 6),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 7),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 8),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 9),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 10),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 11),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 12),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 13),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 14),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 15),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 16),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 17),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 18),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 19),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 20),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 21),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 22),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 23),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 24),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 25),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 26),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 27),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 28),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 29)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:42.725 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:42.727 +03:00 [ERR] Menüler kaydedilirken hata oluştu: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
2025-04-15 20:03:42.751 +03:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (DbType = Guid), @p181='?' (Size = 100), @p182='?' (Size = 100), @p183='?' (Size = 100), @p184='?' (DbType = DateTime2), @p185='?' (Size = 100), @p186='?' (DbType = Guid), @p187='?' (DbType = DateTime2), @p188='?' (DbType = Int32), @p189='?' (DbType = Guid), @p190='?' (Size = 255), @p191='?' (DbType = Guid), @p192='?' (DbType = Guid), @p193='?' (Size = 100), @p194='?' (Size = 100), @p195='?' (Size = 100), @p196='?' (DbType = DateTime2), @p197='?' (Size = 100), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = Int32), @p201='?' (DbType = Guid), @p202='?' (Size = 255), @p203='?' (DbType = Guid), @p204='?' (DbType = Guid), @p205='?' (Size = 100), @p206='?' (Size = 100), @p207='?' (Size = 100), @p208='?' (DbType = DateTime2), @p209='?' (Size = 100), @p210='?' (DbType = Guid), @p211='?' (DbType = DateTime2), @p212='?' (DbType = Int32), @p213='?' (DbType = Guid), @p214='?' (Size = 255), @p215='?' (DbType = Guid), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, 0),
(@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, 1),
(@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 2),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 3),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 4),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 5),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 6),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 7),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 8),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 9),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 10),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 11),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 12),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 13),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 14),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 15),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 16),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 17),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 18),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 19),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 20),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 21),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 22),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 23),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 24),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 25),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 26),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 27),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 28)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:42.753 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:42.754 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: Menüler kaydedilirken hata: An error occurred while saving the entity changes. See the inner exception for details.
İç Hata: The column 'KullaniciId' was specified multiple times for 'i'. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:42.755 +03:00 [ERR] Varsayılan menüleri oluşturma işlemi başarısız oldu: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979
2025-04-15 20:03:42.755 +03:00 [ERR] İç hata: The column 'KullaniciId' was specified multiple times for 'i'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
2025-04-15 20:03:42.777 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (DbType = Guid), @p199='?' (Size = 100), @p200='?' (Size = 100), @p201='?' (Size = 100), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = Int32), @p207='?' (DbType = Guid), @p208='?' (Size = 255), @p209='?' (DbType = Guid), @p210='?' (DbType = Guid), @p211='?' (Size = 100), @p212='?' (Size = 100), @p213='?' (Size = 100), @p214='?' (DbType = DateTime2), @p215='?' (Size = 100), @p216='?' (DbType = Guid), @p217='?' (DbType = DateTime2), @p218='?' (DbType = Int32), @p219='?' (DbType = Guid), @p220='?' (Size = 255), @p221='?' (DbType = Guid), @p222='?' (DbType = Guid), @p223='?' (Size = 100), @p224='?' (Size = 100), @p225='?' (Size = 100), @p226='?' (DbType = DateTime2), @p227='?' (Size = 100), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Int32), @p231='?' (DbType = Guid), @p232='?' (Size = 255), @p233='?' (DbType = Guid), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 0),
(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, 1),
(@p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 2),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 3),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 4),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 5),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 6),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 7),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 9),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 10),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 11),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 12),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 13),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 14),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 15),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 16),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 17),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 18),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 19),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 20),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 21),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 22),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 23),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 24),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 25),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 26),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 27)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:42.779 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:42.779 +03:00 [ERR] Log ekleme hatası: MenuService.InitDefaultMenusAsync: An error occurred while saving the entity changes. See the inner exception for details.
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 924
   at MuhasebeStokWebApp.Services.Menu.MenuService.InitDefaultMenusAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 979 - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:42.799 +03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (DbType = Guid), @p217='?' (Size = 100), @p218='?' (Size = 100), @p219='?' (Size = 100), @p220='?' (DbType = DateTime2), @p221='?' (Size = 100), @p222='?' (DbType = Guid), @p223='?' (DbType = DateTime2), @p224='?' (DbType = Int32), @p225='?' (DbType = Guid), @p226='?' (Size = 255), @p227='?' (DbType = Guid), @p228='?' (DbType = Guid), @p229='?' (Size = 100), @p230='?' (Size = 100), @p231='?' (Size = 100), @p232='?' (DbType = DateTime2), @p233='?' (Size = 100), @p234='?' (DbType = Guid), @p235='?' (DbType = DateTime2), @p236='?' (DbType = Int32), @p237='?' (DbType = Guid), @p238='?' (Size = 255), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (Size = 100), @p242='?' (Size = 100), @p243='?' (Size = 100), @p244='?' (DbType = DateTime2), @p245='?' (Size = 100), @p246='?' (DbType = Guid), @p247='?' (DbType = DateTime2), @p248='?' (DbType = Int32), @p249='?' (DbType = Guid), @p250='?' (Size = 255), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (Size = 100), @p254='?' (Size = 100), @p255='?' (Size = 100), @p256='?' (DbType = DateTime2), @p257='?' (Size = 100), @p258='?' (DbType = Guid), @p259='?' (DbType = DateTime2), @p260='?' (DbType = Int32), @p261='?' (DbType = Guid), @p262='?' (Size = 255), @p263='?' (DbType = Guid), @p264='?' (DbType = Guid), @p265='?' (Size = 100), @p266='?' (Size = 100), @p267='?' (Size = 100), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = Int32), @p273='?' (DbType = Guid), @p274='?' (Size = 255), @p275='?' (DbType = Guid), @p276='?' (DbType = Guid), @p277='?' (Size = 100), @p278='?' (Size = 100), @p279='?' (Size = 100), @p280='?' (DbType = DateTime2), @p281='?' (Size = 100), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = Int32), @p285='?' (DbType = Guid), @p286='?' (Size = 255), @p287='?' (DbType = Guid), @p288='?' (DbType = Guid), @p289='?' (Size = 100), @p290='?' (Size = 100), @p291='?' (Size = 100), @p292='?' (DbType = DateTime2), @p293='?' (Size = 100), @p294='?' (DbType = Guid), @p295='?' (DbType = DateTime2), @p296='?' (DbType = Int32), @p297='?' (DbType = Guid), @p298='?' (Size = 255), @p299='?' (DbType = Guid), @p300='?' (DbType = Guid), @p301='?' (Size = 100), @p302='?' (Size = 100), @p303='?' (Size = 100), @p304='?' (DbType = DateTime2), @p305='?' (Size = 100), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Int32), @p309='?' (DbType = Guid), @p310='?' (Size = 255), @p311='?' (DbType = Guid), @p312='?' (DbType = Guid), @p313='?' (Size = 100), @p314='?' (Size = 100), @p315='?' (Size = 100), @p316='?' (DbType = DateTime2), @p317='?' (Size = 100), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Int32), @p321='?' (DbType = Guid), @p322='?' (Size = 255), @p323='?' (DbType = Guid), @p324='?' (DbType = Guid), @p325='?' (Size = 100), @p326='?' (Size = 100), @p327='?' (Size = 100), @p328='?' (DbType = DateTime2), @p329='?' (Size = 100), @p330='?' (DbType = Guid), @p331='?' (DbType = DateTime2), @p332='?' (DbType = Int32), @p333='?' (DbType = Guid), @p334='?' (Size = 255), @p335='?' (DbType = Guid), @p336='?' (DbType = Guid), @p337='?' (Size = 100), @p338='?' (Size = 100), @p339='?' (Size = 100), @p340='?' (DbType = DateTime2), @p341='?' (Size = 100), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (DbType = Int32), @p345='?' (DbType = Guid), @p346='?' (Size = 255), @p347='?' (DbType = Guid), @p348='?' (DbType = Guid), @p349='?' (Size = 100), @p350='?' (Size = 100), @p351='?' (Size = 100), @p352='?' (DbType = DateTime2), @p353='?' (Size = 100), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (DbType = Int32), @p357='?' (DbType = Guid), @p358='?' (Size = 255), @p359='?' (DbType = Guid), @p360='?' (DbType = Guid), @p361='?' (Size = 100), @p362='?' (Size = 100), @p363='?' (Size = 100), @p364='?' (DbType = DateTime2), @p365='?' (Size = 100), @p366='?' (DbType = Guid), @p367='?' (DbType = DateTime2), @p368='?' (DbType = Int32), @p369='?' (DbType = Guid), @p370='?' (Size = 255), @p371='?' (DbType = Guid), @p372='?' (DbType = Guid), @p373='?' (Size = 100), @p374='?' (Size = 100), @p375='?' (Size = 100), @p376='?' (DbType = DateTime2), @p377='?' (Size = 100), @p378='?' (DbType = Guid), @p379='?' (DbType = DateTime2), @p380='?' (DbType = Int32), @p381='?' (DbType = Guid), @p382='?' (Size = 255), @p383='?' (DbType = Guid), @p384='?' (DbType = Guid), @p385='?' (Size = 100), @p386='?' (Size = 100), @p387='?' (Size = 100), @p388='?' (DbType = DateTime2), @p389='?' (Size = 100), @p390='?' (DbType = Guid), @p391='?' (DbType = DateTime2), @p392='?' (DbType = Int32), @p393='?' (DbType = Guid), @p394='?' (Size = 255), @p395='?' (DbType = Guid), @p396='?' (DbType = Guid), @p397='?' (Size = 100), @p398='?' (Size = 100), @p399='?' (Size = 100), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (DbType = Guid), @p403='?' (DbType = DateTime2), @p404='?' (DbType = Int32), @p405='?' (DbType = Guid), @p406='?' (Size = 255), @p407='?' (DbType = Guid), @p408='?' (DbType = Guid), @p409='?' (Size = 100), @p410='?' (Size = 100), @p411='?' (Size = 100), @p412='?' (DbType = DateTime2), @p413='?' (Size = 100), @p414='?' (DbType = Guid), @p415='?' (DbType = DateTime2), @p416='?' (DbType = Int32), @p417='?' (DbType = Guid), @p418='?' (Size = 255), @p419='?' (DbType = Guid), @p420='?' (DbType = Guid), @p421='?' (Size = 100), @p422='?' (Size = 100), @p423='?' (Size = 100), @p424='?' (DbType = DateTime2), @p425='?' (Size = 100), @p426='?' (DbType = Guid), @p427='?' (DbType = DateTime2), @p428='?' (DbType = Int32), @p429='?' (DbType = Guid), @p430='?' (Size = 255), @p431='?' (DbType = Guid), @p432='?' (DbType = Guid), @p433='?' (Size = 100), @p434='?' (Size = 100), @p435='?' (Size = 100), @p436='?' (DbType = DateTime2), @p437='?' (Size = 100), @p438='?' (DbType = Guid), @p439='?' (DbType = DateTime2), @p440='?' (DbType = Int32), @p441='?' (DbType = Guid), @p442='?' (Size = 255), @p443='?' (DbType = Guid), @p444='?' (DbType = Guid), @p445='?' (Size = 100), @p446='?' (Size = 100), @p447='?' (Size = 100), @p448='?' (DbType = DateTime2), @p449='?' (Size = 100), @p450='?' (DbType = Guid), @p451='?' (DbType = DateTime2), @p452='?' (DbType = Int32), @p453='?' (DbType = Guid), @p454='?' (Size = 255), @p455='?' (DbType = Guid), @p456='?' (DbType = Guid), @p457='?' (Size = 100), @p458='?' (Size = 100), @p459='?' (Size = 100), @p460='?' (DbType = DateTime2), @p461='?' (Size = 100), @p462='?' (DbType = Guid), @p463='?' (DbType = DateTime2), @p464='?' (DbType = Int32), @p465='?' (DbType = Guid), @p466='?' (Size = 255), @p467='?' (DbType = Guid), @p468='?' (DbType = Guid), @p469='?' (Size = 100), @p470='?' (Size = 100), @p471='?' (Size = 100), @p472='?' (DbType = DateTime2), @p473='?' (Size = 100), @p474='?' (DbType = Guid), @p475='?' (DbType = DateTime2), @p476='?' (DbType = Int32), @p477='?' (DbType = Guid), @p478='?' (Size = 255), @p479='?' (DbType = Guid), @p480='?' (DbType = Guid), @p481='?' (Size = 100), @p482='?' (Size = 100), @p483='?' (Size = 100), @p484='?' (DbType = DateTime2), @p485='?' (Size = 100), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (DbType = Int32), @p489='?' (DbType = Guid), @p490='?' (Size = 255), @p491='?' (DbType = Guid), @p492='?' (DbType = Guid), @p493='?' (Size = 100), @p494='?' (Size = 100), @p495='?' (Size = 100), @p496='?' (DbType = DateTime2), @p497='?' (Size = 100), @p498='?' (DbType = Guid), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Int32), @p501='?' (DbType = Guid), @p502='?' (Size = 255), @p503='?' (DbType = Guid), @p504='?' (DbType = Guid), @p505='?' (Size = 100), @p506='?' (Size = 100), @p507='?' (Size = 100), @p508='?' (DbType = DateTime2), @p509='?' (Size = 100), @p510='?' (DbType = Guid), @p511='?' (DbType = DateTime2), @p512='?' (DbType = Int32), @p513='?' (DbType = Guid), @p514='?' (Size = 255), @p515='?' (DbType = Guid), @p516='?' (DbType = Guid), @p517='?' (Size = 100), @p518='?' (Size = 100), @p519='?' (Size = 100), @p520='?' (DbType = DateTime2), @p521='?' (Size = 100), @p522='?' (DbType = Guid), @p523='?' (DbType = DateTime2), @p524='?' (DbType = Int32), @p525='?' (DbType = Guid), @p526='?' (Size = 255), @p527='?' (DbType = Guid), @p528='?' (DbType = Guid), @p529='?' (Size = 100), @p530='?' (Size = 100), @p531='?' (Size = 100), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (DbType = Guid), @p535='?' (DbType = DateTime2), @p536='?' (DbType = Int32), @p537='?' (DbType = Guid), @p538='?' (Size = 255), @p539='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 0),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 1),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 2),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, 3),
(@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, 4),
(@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, 5),
(@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 6),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 7),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, 8),
(@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, 9),
(@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, 10),
(@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 11),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 12),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, 13),
(@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, 14),
(@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, 15),
(@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 16),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 17),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, 18),
(@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, 19),
(@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, 20),
(@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 21),
(@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, 22),
(@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 23),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, 24),
(@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 25),
(@p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, 26)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:42.801 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:42.802 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:42.820 +03:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = Guid), @p22='?' (Size = 255), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (Size = 100), @p26='?' (Size = 100), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Guid), @p34='?' (Size = 255), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (Size = 100), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (DbType = DateTime2), @p41='?' (Size = 100), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = Guid), @p46='?' (Size = 255), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (DbType = DateTime2), @p53='?' (Size = 100), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (DbType = Guid), @p58='?' (Size = 255), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (Size = 100), @p62='?' (Size = 100), @p63='?' (Size = 100), @p64='?' (DbType = DateTime2), @p65='?' (Size = 100), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (DbType = Guid), @p70='?' (Size = 255), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (Size = 100), @p74='?' (Size = 100), @p75='?' (Size = 100), @p76='?' (DbType = DateTime2), @p77='?' (Size = 100), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (DbType = Guid), @p82='?' (Size = 255), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (Size = 100), @p86='?' (Size = 100), @p87='?' (Size = 100), @p88='?' (DbType = DateTime2), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (DbType = Guid), @p94='?' (Size = 255), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (Size = 100), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (DbType = DateTime2), @p101='?' (Size = 100), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (DbType = Guid), @p106='?' (Size = 255), @p107='?' (DbType = Guid), @p108='?' (Size = 4000), @p109='?' (DbType = Boolean), @p110='?' (Size = 4000), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (Size = 250), @p115='?' (DbType = Guid), @p116='?' (Size = 4000), @p117='?' (DbType = Guid), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (Size = 2000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 250), @p125='?' (Size = 250), @p126='?' (Size = 4000), @p127='?' (DbType = Boolean), @p128='?' (Size = 4000), @p129='?' (Size = 50), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Size = 250), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = Guid), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Size = 2000), @p141='?' (DbType = DateTime2), @p142='?' (Size = 250), @p143='?' (Size = 250), @p144='?' (Size = 4000), @p145='?' (DbType = Boolean), @p146='?' (Size = 4000), @p147='?' (Size = 50), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (Size = 250), @p151='?' (DbType = Guid), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = Int32), @p158='?' (Size = 2000), @p159='?' (DbType = DateTime2), @p160='?' (Size = 250), @p161='?' (Size = 250), @p162='?' (Size = 4000), @p163='?' (DbType = Boolean), @p164='?' (Size = 4000), @p165='?' (Size = 50), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (Size = 250), @p169='?' (DbType = Guid), @p170='?' (Size = 4000), @p171='?' (DbType = Guid), @p172='?' (Size = 128) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (Size = 50), @p175='?' (DbType = Int32), @p176='?' (Size = 2000), @p177='?' (DbType = DateTime2), @p178='?' (Size = 250), @p179='?' (Size = 250), @p180='?' (Size = 4000), @p181='?' (DbType = Boolean), @p182='?' (Size = 4000), @p183='?' (Size = 50), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (Size = 250), @p187='?' (DbType = Guid), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (Size = 128) (DbType = AnsiString), @p191='?' (DbType = Guid), @p192='?' (Size = 50), @p193='?' (DbType = Int32), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 250), @p197='?' (Size = 250), @p198='?' (Size = 4000), @p199='?' (DbType = Boolean), @p200='?' (Size = 4000), @p201='?' (Size = 50), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (Size = 250), @p205='?' (DbType = Guid), @p206='?' (Size = 4000), @p207='?' (DbType = Guid), @p208='?' (Size = 128) (DbType = AnsiString), @p209='?' (DbType = Guid), @p210='?' (Size = 50), @p211='?' (DbType = Int32), @p212='?' (Size = 2000), @p213='?' (DbType = DateTime2), @p214='?' (Size = 250), @p215='?' (Size = 250), @p216='?' (Size = 4000), @p217='?' (DbType = Boolean), @p218='?' (Size = 4000), @p219='?' (Size = 50), @p220='?' (DbType = DateTime2), @p221='?' (Size = 50), @p222='?' (Size = 250), @p223='?' (DbType = Guid), @p224='?' (Size = 4000), @p225='?' (DbType = Guid), @p226='?' (Size = 128) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (Size = 50), @p229='?' (DbType = Int32), @p230='?' (Size = 2000), @p231='?' (DbType = DateTime2), @p232='?' (Size = 250), @p233='?' (Size = 250), @p234='?' (DbType = Guid), @p235='?' (Size = 100), @p236='?' (Size = 100), @p237='?' (Size = 100), @p238='?' (DbType = DateTime2), @p239='?' (Size = 100), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Int32), @p243='?' (DbType = Guid), @p244='?' (Size = 255), @p245='?' (DbType = Guid), @p246='?' (DbType = Guid), @p247='?' (Size = 100), @p248='?' (Size = 100), @p249='?' (Size = 100), @p250='?' (DbType = DateTime2), @p251='?' (Size = 100), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = Int32), @p255='?' (DbType = Guid), @p256='?' (Size = 255), @p257='?' (DbType = Guid), @p258='?' (DbType = Guid), @p259='?' (Size = 100), @p260='?' (Size = 100), @p261='?' (Size = 100), @p262='?' (DbType = DateTime2), @p263='?' (Size = 100), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Int32), @p267='?' (DbType = Guid), @p268='?' (Size = 255), @p269='?' (DbType = Guid), @p270='?' (DbType = Guid), @p271='?' (Size = 100), @p272='?' (Size = 100), @p273='?' (Size = 100), @p274='?' (DbType = DateTime2), @p275='?' (Size = 100), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (DbType = Int32), @p279='?' (DbType = Guid), @p280='?' (Size = 255), @p281='?' (DbType = Guid), @p282='?' (DbType = Guid), @p283='?' (Size = 100), @p284='?' (Size = 100), @p285='?' (Size = 100), @p286='?' (DbType = DateTime2), @p287='?' (Size = 100), @p288='?' (DbType = Guid), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Int32), @p291='?' (DbType = Guid), @p292='?' (Size = 255), @p293='?' (DbType = Guid), @p294='?' (DbType = Guid), @p295='?' (Size = 100), @p296='?' (Size = 100), @p297='?' (Size = 100), @p298='?' (DbType = DateTime2), @p299='?' (Size = 100), @p300='?' (DbType = Guid), @p301='?' (DbType = DateTime2), @p302='?' (DbType = Int32), @p303='?' (DbType = Guid), @p304='?' (Size = 255), @p305='?' (DbType = Guid), @p306='?' (DbType = Guid), @p307='?' (Size = 100), @p308='?' (Size = 100), @p309='?' (Size = 100), @p310='?' (DbType = DateTime2), @p311='?' (Size = 100), @p312='?' (DbType = Guid), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Int32), @p315='?' (DbType = Guid), @p316='?' (Size = 255), @p317='?' (DbType = Guid), @p318='?' (DbType = Guid), @p319='?' (Size = 100), @p320='?' (Size = 100), @p321='?' (Size = 100), @p322='?' (DbType = DateTime2), @p323='?' (Size = 100), @p324='?' (DbType = Guid), @p325='?' (DbType = DateTime2), @p326='?' (DbType = Int32), @p327='?' (DbType = Guid), @p328='?' (Size = 255), @p329='?' (DbType = Guid), @p330='?' (DbType = Guid), @p331='?' (Size = 100), @p332='?' (Size = 100), @p333='?' (Size = 100), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (DbType = Guid), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Int32), @p339='?' (DbType = Guid), @p340='?' (Size = 255), @p341='?' (DbType = Guid), @p342='?' (DbType = Guid), @p343='?' (Size = 100), @p344='?' (Size = 100), @p345='?' (Size = 100), @p346='?' (DbType = DateTime2), @p347='?' (Size = 100), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = Int32), @p351='?' (DbType = Guid), @p352='?' (Size = 255), @p353='?' (DbType = Guid), @p354='?' (DbType = Guid), @p355='?' (Size = 100), @p356='?' (Size = 100), @p357='?' (Size = 100), @p358='?' (DbType = DateTime2), @p359='?' (Size = 100), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Int32), @p363='?' (DbType = Guid), @p364='?' (Size = 255), @p365='?' (DbType = Guid), @p366='?' (DbType = Guid), @p367='?' (Size = 100), @p368='?' (Size = 100), @p369='?' (Size = 100), @p370='?' (DbType = DateTime2), @p371='?' (Size = 100), @p372='?' (DbType = Guid), @p373='?' (DbType = DateTime2), @p374='?' (DbType = Int32), @p375='?' (DbType = Guid), @p376='?' (Size = 255), @p377='?' (DbType = Guid), @p378='?' (DbType = Guid), @p379='?' (Size = 100), @p380='?' (Size = 100), @p381='?' (Size = 100), @p382='?' (DbType = DateTime2), @p383='?' (Size = 100), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Int32), @p387='?' (DbType = Guid), @p388='?' (Size = 255), @p389='?' (DbType = Guid), @p390='?' (DbType = Guid), @p391='?' (Size = 100), @p392='?' (Size = 100), @p393='?' (Size = 100), @p394='?' (DbType = DateTime2), @p395='?' (Size = 100), @p396='?' (DbType = Guid), @p397='?' (DbType = DateTime2), @p398='?' (DbType = Int32), @p399='?' (DbType = Guid), @p400='?' (Size = 255), @p401='?' (DbType = Guid), @p402='?' (DbType = Guid), @p403='?' (Size = 100), @p404='?' (Size = 100), @p405='?' (Size = 100), @p406='?' (DbType = DateTime2), @p407='?' (Size = 100), @p408='?' (DbType = Guid), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Int32), @p411='?' (DbType = Guid), @p412='?' (Size = 255), @p413='?' (DbType = Guid), @p414='?' (DbType = Guid), @p415='?' (Size = 100), @p416='?' (Size = 100), @p417='?' (Size = 100), @p418='?' (DbType = DateTime2), @p419='?' (Size = 100), @p420='?' (DbType = Guid), @p421='?' (DbType = DateTime2), @p422='?' (DbType = Int32), @p423='?' (DbType = Guid), @p424='?' (Size = 255), @p425='?' (DbType = Guid), @p426='?' (DbType = Guid), @p427='?' (Size = 100), @p428='?' (Size = 100), @p429='?' (Size = 100), @p430='?' (DbType = DateTime2), @p431='?' (Size = 100), @p432='?' (DbType = Guid), @p433='?' (DbType = DateTime2), @p434='?' (DbType = Int32), @p435='?' (DbType = Guid), @p436='?' (Size = 255), @p437='?' (DbType = Guid), @p438='?' (DbType = Guid), @p439='?' (Size = 100), @p440='?' (Size = 100), @p441='?' (Size = 100), @p442='?' (DbType = DateTime2), @p443='?' (Size = 100), @p444='?' (DbType = Guid), @p445='?' (DbType = DateTime2), @p446='?' (DbType = Int32), @p447='?' (DbType = Guid), @p448='?' (Size = 255), @p449='?' (DbType = Guid), @p450='?' (DbType = Guid), @p451='?' (Size = 100), @p452='?' (Size = 100), @p453='?' (Size = 100), @p454='?' (DbType = DateTime2), @p455='?' (Size = 100), @p456='?' (DbType = Guid), @p457='?' (DbType = DateTime2), @p458='?' (DbType = Int32), @p459='?' (DbType = Guid), @p460='?' (Size = 255), @p461='?' (DbType = Guid), @p462='?' (DbType = Guid), @p463='?' (Size = 100), @p464='?' (Size = 100), @p465='?' (Size = 100), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (DbType = Guid), @p469='?' (DbType = DateTime2), @p470='?' (DbType = Int32), @p471='?' (DbType = Guid), @p472='?' (Size = 255), @p473='?' (DbType = Guid), @p474='?' (DbType = Guid), @p475='?' (Size = 100), @p476='?' (Size = 100), @p477='?' (Size = 100), @p478='?' (DbType = DateTime2), @p479='?' (Size = 100), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (DbType = Int32), @p483='?' (DbType = Guid), @p484='?' (Size = 255), @p485='?' (DbType = Guid), @p486='?' (DbType = Guid), @p487='?' (Size = 100), @p488='?' (Size = 100), @p489='?' (Size = 100), @p490='?' (DbType = DateTime2), @p491='?' (Size = 100), @p492='?' (DbType = Guid), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Int32), @p495='?' (DbType = Guid), @p496='?' (Size = 255), @p497='?' (DbType = Guid), @p498='?' (DbType = Guid), @p499='?' (Size = 100), @p500='?' (Size = 100), @p501='?' (Size = 100), @p502='?' (DbType = DateTime2), @p503='?' (Size = 100), @p504='?' (DbType = Guid), @p505='?' (DbType = DateTime2), @p506='?' (DbType = Int32), @p507='?' (DbType = Guid), @p508='?' (Size = 255), @p509='?' (DbType = Guid), @p510='?' (DbType = Guid), @p511='?' (Size = 100), @p512='?' (Size = 100), @p513='?' (Size = 100), @p514='?' (DbType = DateTime2), @p515='?' (Size = 100), @p516='?' (DbType = Guid), @p517='?' (DbType = DateTime2), @p518='?' (DbType = Int32), @p519='?' (DbType = Guid), @p520='?' (Size = 255), @p521='?' (DbType = Guid), @p522='?' (DbType = Guid), @p523='?' (Size = 100), @p524='?' (Size = 100), @p525='?' (Size = 100), @p526='?' (DbType = DateTime2), @p527='?' (Size = 100), @p528='?' (DbType = Guid), @p529='?' (DbType = DateTime2), @p530='?' (DbType = Int32), @p531='?' (DbType = Guid), @p532='?' (Size = 255), @p533='?' (DbType = Guid), @p534='?' (DbType = Guid), @p535='?' (Size = 100), @p536='?' (Size = 100), @p537='?' (Size = 100), @p538='?' (DbType = DateTime2), @p539='?' (Size = 100), @p540='?' (DbType = Guid), @p541='?' (DbType = DateTime2), @p542='?' (DbType = Int32), @p543='?' (DbType = Guid), @p544='?' (Size = 255), @p545='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
MERGE [Menuler] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 2),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 4),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 5),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 7),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 8)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
MERGE [SistemLoglar] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 0),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 1),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 2),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 3),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 4),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 5),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 6)) AS i ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Aciklama], [Basarili], [HataMesaji], [IPAdresi], [IslemTarihi], [IslemTuru], [KayitAdi], [KayitID], [KullaniciAdi], [KullaniciID], [KullaniciId], [LogID], [LogTuru], [LogTuruInt], [Mesaj], [OlusturmaTarihi], [Sayfa], [TabloAdi])
VALUES (i.[Aciklama], i.[Basarili], i.[HataMesaji], i.[IPAdresi], i.[IslemTarihi], i.[IslemTuru], i.[KayitAdi], i.[KayitID], i.[KullaniciAdi], i.[KullaniciID], i.[KullaniciId], i.[LogID], i.[LogTuru], i.[LogTuruInt], i.[Mesaj], i.[OlusturmaTarihi], i.[Sayfa], i.[TabloAdi])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Menuler] USING (
VALUES (@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, 0),
(@p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, 1),
(@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 2),
(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, 3),
(@p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 4),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 5),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, 6),
(@p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 7),
(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, 8),
(@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, 9),
(@p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, 10),
(@p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, 11),
(@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 12),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, 13),
(@p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, 14),
(@p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, 15),
(@p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 16),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, 17),
(@p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, 18),
(@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, 19),
(@p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 20),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, 21),
(@p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, 22),
(@p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, 23),
(@p522, @p523, @p524, @p525, @p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, 24),
(@p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, 25)) AS i ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuID], [Action], [Ad], [Controller], [GuncellemeTarihi], [Icon], [OlusturanKullaniciID], [OlusturmaTarihi], [Sira], [SonGuncelleyenKullaniciID], [Url], [UstMenuID])
VALUES (i.[MenuID], i.[Action], i.[Ad], i.[Controller], i.[GuncellemeTarihi], i.[Icon], i.[OlusturanKullaniciID], i.[OlusturmaTarihi], i.[Sira], i.[SonGuncelleyenKullaniciID], i.[Url], i.[UstMenuID])
OUTPUT INSERTED.[AktifMi], INSERTED.[Silindi], i._Position;
2025-04-15 20:03:42.821 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 20:03:42.822 +03:00 [ERR] Log ekleme hatası: MenuController.InitDefaultsConfirm: Varsayılan menüler oluşturulamadı. - An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column 'KullaniciId' was specified multiple times for 'i'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:00a90c33-a2f6-4d8d-af8c-9d9844f4e10c
Error Number:8156,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 72
   at MuhasebeStokWebApp.Services.LogService.LogEkleAsync(String mesaj, LogTuru logTuru, String detay) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/LogService.cs:line 105
2025-04-15 20:03:42.830 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 20:19:46.826 +03:00 [ERR] Veritabanı oluşturulurken veya migrationlar uygulanırken bir hata oluştu.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService(IInfrastructure`1 accessor, Type serviceType)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.CanConnect()
   at Program.<Main>$(String[] args) in /Users/muhammetkocaman/MuhasebeStokWebApp/Program.cs:line 288
2025-04-15 20:19:47.056 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7118: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-15 20:20:23.594 +03:00 [ERR] Veritabanı oluşturulurken veya migrationlar uygulanırken bir hata oluştu.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService(IInfrastructure`1 accessor, Type serviceType)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.CanConnect()
   at Program.<Main>$(String[] args) in /Users/muhammetkocaman/MuhasebeStokWebApp/Program.cs:line 288
2025-04-15 20:20:24.191 +03:00 [ERR] GetActiveSidebarMenusAsync metodunda beklenmeyen hata: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByIdAsync(String userId, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByIdAsync(String userId)
   at MuhasebeStokWebApp.Services.Menu.MenuService.GetActiveSidebarMenusAsync(String userId) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/Menu/MenuService.cs:line 1067
2025-04-15 20:20:24.200 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 20:20:24.200 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 20:20:24.327 +03:00 [ERR] Dashboard verileri yüklenirken hata oluştu
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at MuhasebeStokWebApp.Data.Repositories.Repository`1..ctor(ApplicationDbContext context) in /Users/muhammetkocaman/MuhasebeStokWebApp/Data/Repositories/Repository.cs:line 23
   at MuhasebeStokWebApp.Data.Repositories.UnitOfWork.Repository[TEntity]() in /Users/muhammetkocaman/MuhasebeStokWebApp/Data/Repositories/UnitOfWork.cs:line 61
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 290
   at MuhasebeStokWebApp.Controllers.HomeController.Index(String auth) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 137
2025-04-15 20:20:47.161 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByIdAsync(String userId, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByIdAsync(String userId)
   at Microsoft.AspNetCore.Identity.UserManager`1.GetUserAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)
   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-15 20:20:57.972 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByIdAsync(String userId, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByIdAsync(String userId)
   at Microsoft.AspNetCore.Identity.UserManager`1.GetUserAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)
   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-15 20:21:00.835 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByIdAsync(String userId, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByIdAsync(String userId)
   at Microsoft.AspNetCore.Identity.UserManager`1.GetUserAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)
   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-15 20:21:33.019 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByIdAsync(String userId, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByIdAsync(String userId)
   at Microsoft.AspNetCore.Identity.UserManager`1.GetUserAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)
   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-15 20:21:38.427 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByIdAsync(String userId, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByIdAsync(String userId)
   at Microsoft.AspNetCore.Identity.UserManager`1.GetUserAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)
   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-15 20:21:38.503 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByIdAsync(String userId, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByIdAsync(String userId)
   at Microsoft.AspNetCore.Identity.UserManager`1.GetUserAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)
   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-15 20:24:21.886 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The relationship from 'SistemLog.Kullanici' to 'ApplicationUser.SistemLoglar' with foreign key properties {'KullaniciId' : Guid?} cannot target the primary key {'Id' : string} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByIdAsync(String userId, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByIdAsync(String userId)
   at Microsoft.AspNetCore.Identity.UserManager`1.GetUserAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)
   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)
   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-15 20:28:35.177 +03:00 [ERR] Failed executing DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                -- Önce sistemin hangi veritabanı sürümünde olduğunu kontrol edelim
                DECLARE @IsSQLServer2016OrHigher BIT = 0;
                IF SERVERPROPERTY('ProductMajorVersion') >= 13
                    SET @IsSQLServer2016OrHigher = 1;

                -- SistemLoglar tablosunda KullaniciId sütununun var olup olmadığını kontrol et
                IF EXISTS (
                    SELECT 1 FROM sys.columns 
                    WHERE object_id = OBJECT_ID('SistemLoglar') 
                    AND name = 'KullaniciId'
                )
                BEGIN
                    -- Foreign key varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.foreign_keys 
                        WHERE parent_object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'FK_SistemLoglar_AspNetUsers_KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId;
                    END

                    -- Index varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.indexes 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'IX_SistemLoglar_KullaniciId'
                    )
                    BEGIN
                        DROP INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar;
                    END

                    -- Geçici bir tablo oluştur
                    SELECT * INTO #TempSistemLog FROM SistemLoglar WHERE 1=0;
                    
                    -- Geçici tabloya sütun ekle
                    ALTER TABLE #TempSistemLog ADD TempKullaniciId uniqueidentifier NULL;
                    
                    -- Mevcut verileri geçici tabloya kopyala, KullaniciID değerini al
                    IF (@IsSQLServer2016OrHigher = 1)
                    BEGIN
                        -- SQL Server 2016 ve üzeri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    ELSE
                    BEGIN
                        -- Daha eski SQL Server sürümleri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    
                    -- Mevcut tabloyu temizle
                    TRUNCATE TABLE SistemLoglar;
                    
                    -- Tablodan KullaniciId ve KullaniciID sütunlarını kaldır (varsa)
                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    END

                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciID'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciID;
                    END
                    
                    -- Yeni KullaniciId sütununu ekle
                    ALTER TABLE SistemLoglar ADD KullaniciId uniqueidentifier NULL;
                    
                    -- Geçici tablodan verileri geri kopyala
                    INSERT INTO SistemLoglar (
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciId
                    )
                    SELECT 
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                    FROM #TempSistemLog;
                    
                    -- Geçici tabloyu temizle
                    DROP TABLE #TempSistemLog;
                    
                    -- Foreign key ve indeksi tekrar oluştur
                    CREATE INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar(KullaniciId);
                    
                    ALTER TABLE SistemLoglar ADD CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId 
                    FOREIGN KEY (KullaniciId) REFERENCES AspNetUsers(Id);
                END
2025-04-15 20:31:53.319 +03:00 [ERR] Failed executing DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                -- Önce sistemin hangi veritabanı sürümünde olduğunu kontrol edelim
                DECLARE @IsSQLServer2016OrHigher BIT = 0;
                IF SERVERPROPERTY('ProductMajorVersion') >= 13
                    SET @IsSQLServer2016OrHigher = 1;

                -- SistemLoglar tablosunda KullaniciId sütununun var olup olmadığını kontrol et
                IF EXISTS (
                    SELECT 1 FROM sys.columns 
                    WHERE object_id = OBJECT_ID('SistemLoglar') 
                    AND name = 'KullaniciId'
                )
                BEGIN
                    -- Foreign key varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.foreign_keys 
                        WHERE parent_object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'FK_SistemLoglar_AspNetUsers_KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId;
                    END

                    -- Index varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.indexes 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'IX_SistemLoglar_KullaniciId'
                    )
                    BEGIN
                        DROP INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar;
                    END

                    -- Geçici bir tablo oluştur
                    SELECT * INTO #TempSistemLog FROM SistemLoglar WHERE 1=0;
                    
                    -- Geçici tabloya sütun ekle
                    ALTER TABLE #TempSistemLog ADD TempKullaniciId uniqueidentifier NULL;
                    
                    -- Mevcut verileri geçici tabloya kopyala, KullaniciID değerini al
                    IF (@IsSQLServer2016OrHigher = 1)
                    BEGIN
                        -- SQL Server 2016 ve üzeri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    ELSE
                    BEGIN
                        -- Daha eski SQL Server sürümleri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    
                    -- Mevcut tabloyu temizle
                    TRUNCATE TABLE SistemLoglar;
                    
                    -- Tablodan KullaniciId ve KullaniciID sütunlarını kaldır (varsa)
                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    END

                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciID'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciID;
                    END
                    
                    -- Yeni KullaniciId sütununu ekle
                    ALTER TABLE SistemLoglar ADD KullaniciId uniqueidentifier NULL;
                    
                    -- Geçici tablodan verileri geri kopyala
                    INSERT INTO SistemLoglar (
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciId
                    )
                    SELECT 
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                    FROM #TempSistemLog;
                    
                    -- Geçici tabloyu temizle
                    DROP TABLE #TempSistemLog;
                    
                    -- Foreign key ve indeksi tekrar oluştur
                    CREATE INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar(KullaniciId);
                    
                    ALTER TABLE SistemLoglar ADD CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId 
                    FOREIGN KEY (KullaniciId) REFERENCES AspNetUsers(Id);
                END
2025-04-15 20:35:17.889 +03:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                -- Önce sistemin hangi veritabanı sürümünde olduğunu kontrol edelim
                DECLARE @IsSQLServer2016OrHigher BIT = 0;
                IF SERVERPROPERTY('ProductMajorVersion') >= 13
                    SET @IsSQLServer2016OrHigher = 1;

                -- SistemLoglar tablosunda KullaniciId sütununun var olup olmadığını kontrol et
                IF EXISTS (
                    SELECT 1 FROM sys.columns 
                    WHERE object_id = OBJECT_ID('SistemLoglar') 
                    AND name = 'KullaniciId'
                )
                BEGIN
                    -- Foreign key varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.foreign_keys 
                        WHERE parent_object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'FK_SistemLoglar_AspNetUsers_KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId;
                    END

                    -- Index varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.indexes 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'IX_SistemLoglar_KullaniciId'
                    )
                    BEGIN
                        DROP INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar;
                    END

                    -- Geçici bir tablo oluştur
                    SELECT * INTO #TempSistemLog FROM SistemLoglar WHERE 1=0;
                    
                    -- Geçici tabloya sütun ekle
                    ALTER TABLE #TempSistemLog ADD TempKullaniciId uniqueidentifier NULL;
                    
                    -- Mevcut verileri geçici tabloya kopyala, KullaniciID değerini al
                    IF (@IsSQLServer2016OrHigher = 1)
                    BEGIN
                        -- SQL Server 2016 ve üzeri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    ELSE
                    BEGIN
                        -- Daha eski SQL Server sürümleri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    
                    -- Mevcut tabloyu temizle
                    TRUNCATE TABLE SistemLoglar;
                    
                    -- Tablodan KullaniciId ve KullaniciID sütunlarını kaldır (varsa)
                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    END

                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciID'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciID;
                    END
                    
                    -- Yeni KullaniciId sütununu ekle
                    ALTER TABLE SistemLoglar ADD KullaniciId uniqueidentifier NULL;
                    
                    -- Geçici tablodan verileri geri kopyala
                    INSERT INTO SistemLoglar (
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciId
                    )
                    SELECT 
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                    FROM #TempSistemLog;
                    
                    -- Geçici tabloyu temizle
                    DROP TABLE #TempSistemLog;
                    
                    -- Foreign key ve indeksi tekrar oluştur
                    CREATE INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar(KullaniciId);
                    
                    ALTER TABLE SistemLoglar ADD CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId 
                    FOREIGN KEY (KullaniciId) REFERENCES AspNetUsers(Id);
                END
2025-04-15 20:37:40.116 +03:00 [ERR] Failed executing DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                -- Önce sistemin hangi veritabanı sürümünde olduğunu kontrol edelim
                DECLARE @IsSQLServer2016OrHigher BIT = 0;
                IF SERVERPROPERTY('ProductMajorVersion') >= 13
                    SET @IsSQLServer2016OrHigher = 1;

                -- SistemLoglar tablosunda KullaniciId sütununun var olup olmadığını kontrol et
                IF EXISTS (
                    SELECT 1 FROM sys.columns 
                    WHERE object_id = OBJECT_ID('SistemLoglar') 
                    AND name = 'KullaniciId'
                )
                BEGIN
                    -- Foreign key varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.foreign_keys 
                        WHERE parent_object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'FK_SistemLoglar_AspNetUsers_KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId;
                    END

                    -- Index varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.indexes 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'IX_SistemLoglar_KullaniciId'
                    )
                    BEGIN
                        DROP INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar;
                    END

                    -- Geçici bir tablo oluştur
                    SELECT * INTO #TempSistemLog FROM SistemLoglar WHERE 1=0;
                    
                    -- Geçici tabloya sütun ekle
                    ALTER TABLE #TempSistemLog ADD TempKullaniciId uniqueidentifier NULL;
                    
                    -- Mevcut verileri geçici tabloya kopyala, KullaniciID değerini al
                    IF (@IsSQLServer2016OrHigher = 1)
                    BEGIN
                        -- SQL Server 2016 ve üzeri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    ELSE
                    BEGIN
                        -- Daha eski SQL Server sürümleri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    
                    -- Mevcut tabloyu temizle
                    TRUNCATE TABLE SistemLoglar;
                    
                    -- Tablodan KullaniciId ve KullaniciID sütunlarını kaldır (varsa)
                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    END

                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciID'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciID;
                    END
                    
                    -- Yeni KullaniciId sütununu ekle
                    ALTER TABLE SistemLoglar ADD KullaniciId uniqueidentifier NULL;
                    
                    -- Geçici tablodan verileri geri kopyala
                    INSERT INTO SistemLoglar (
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciId
                    )
                    SELECT 
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                    FROM #TempSistemLog;
                    
                    -- Geçici tabloyu temizle
                    DROP TABLE #TempSistemLog;
                    
                    -- Foreign key ve indeksi tekrar oluştur
                    CREATE INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar(KullaniciId);
                    
                    ALTER TABLE SistemLoglar ADD CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId 
                    FOREIGN KEY (KullaniciId) REFERENCES AspNetUsers(Id);
                END
2025-04-15 22:49:41.662 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 22:49:41.987 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 22:49:57.536 +03:00 [INF] Giriş denemesi: admin
2025-04-15 22:49:57.633 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 22:49:57.633 +03:00 [INF] Admin session oluşturuldu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 22:49:57.633 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 22:49:57.633 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 22:49:57.707 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 22:49:57.711 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 22:49:57.712 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 22:49:57.712 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 22:49:57.795 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:49:57.799 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:49:57.799 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 22:50:06.646 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 22:50:07.974 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 22:50:09.958 +03:00 [WRN] Veritabanında aktif menü bulunamadı, varsayılan menüler kullanılıyor
2025-04-15 22:50:09.980 +03:00 [INF] Varsayılan menüleri oluşturma işlemi başlatıldı
2025-04-15 22:50:09.990 +03:00 [INF] Temizlenecek mevcut menü bulunamadı
2025-04-15 22:50:12.650 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 22:50:12.650 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 22:50:12.650 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 22:50:12.661 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:50:12.662 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:50:12.662 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 22:50:19.979 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 22:50:19.983 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 22:50:20.402 +03:00 [INF] Received HTTP response headers after 417.1697ms - 200
2025-04-15 22:50:20.411 +03:00 [INF] End processing HTTP request after 435.3122ms - 200
2025-04-15 22:51:07.914 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 22:51:07.914 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 22:51:08.057 +03:00 [INF] Received HTTP response headers after 142.2742ms - 200
2025-04-15 22:51:08.057 +03:00 [INF] End processing HTTP request after 143.6499ms - 200
2025-04-15 22:52:09.771 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 22:52:09.772 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 22:52:09.907 +03:00 [INF] Received HTTP response headers after 134.6668ms - 200
2025-04-15 22:52:09.907 +03:00 [INF] End processing HTTP request after 135.9652ms - 200
2025-04-15 22:52:15.169 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 22:52:15.169 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 22:52:15.169 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 22:52:15.176 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:52:15.177 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:52:15.177 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 22:52:19.129 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 22:52:19.132 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 22:52:19.138 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:52:19.138 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:52:19.139 +03:00 [ERR] Döviz kurları yenilenirken hata oluştu
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.RefreshCurrencyRates() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 175
2025-04-15 22:52:19.156 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 22:52:19.156 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 22:52:19.156 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 22:52:19.164 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:52:19.164 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:52:19.165 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 22:52:19.938 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 22:52:19.939 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 22:52:19.949 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:52:19.949 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:52:19.950 +03:00 [ERR] Döviz kurları yenilenirken hata oluştu
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.RefreshCurrencyRates() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 175
2025-04-15 22:52:19.968 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 22:52:19.969 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 22:52:19.969 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 22:52:19.976 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:52:19.977 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:52:19.977 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 22:52:20.908 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 22:52:20.908 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi tamamlandı
2025-04-15 22:52:20.911 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:52:20.911 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:52:20.911 +03:00 [ERR] Döviz kurları yenilenirken hata oluştu
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.RefreshCurrencyRates() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 175
2025-04-15 22:52:20.929 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 22:52:20.930 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 22:52:20.930 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 22:52:20.935 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:52:20.936 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:52:20.936 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 22:53:47.290 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (Size = 10), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='120']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Birimler] ([BirimID], [Aciklama], [Aktif], [BirimAdi], [BirimKodu], [BirimSembol], [GuncellemeTarihi], [OlusturanKullaniciID], [OlusturmaTarihi], [Silindi], [SirketID], [SonGuncelleyenKullaniciID])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-04-15 22:53:47.296 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Aciklama', table 'MuhasebeStokDB.dbo.Birimler'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a209a9a5-e2cc-46fa-8e01-6cc176bfaac2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Aciklama', table 'MuhasebeStokDB.dbo.Birimler'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a209a9a5-e2cc-46fa-8e01-6cc176bfaac2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 22:54:00.040 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a209a9a5-e2cc-46fa-8e01-6cc176bfaac2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a209a9a5-e2cc-46fa-8e01-6cc176bfaac2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 22:54:00.041 +03:00 [ERR] Depo oluşturulurken hata oluştu
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a209a9a5-e2cc-46fa-8e01-6cc176bfaac2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.DepoController.Create(DepoCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/DepoController.cs:line 128
2025-04-15 22:54:00.886 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MuhasebeStokWebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a209a9a5-e2cc-46fa-8e01-6cc176bfaac2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a209a9a5-e2cc-46fa-8e01-6cc176bfaac2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-15 22:54:00.887 +03:00 [ERR] Depo oluşturulurken hata oluştu
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Adres', table 'MuhasebeStokDB.dbo.Depolar'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a209a9a5-e2cc-46fa-8e01-6cc176bfaac2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MuhasebeStokWebApp.Controllers.DepoController.Create(DepoCreateViewModel model) in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/DepoController.cs:line 128
2025-04-15 22:54:43.697 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 22:54:43.698 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 22:54:43.699 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 22:54:43.719 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 22:54:43.719 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 22:54:43.719 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 22:56:50.297 +03:00 [INF] Fatura oluşturma sayfası yükleniyor: Kullanıcı=admin
2025-04-15 22:56:50.335 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-15 22:56:50.348 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-15 22:56:50.372 +03:00 [INF] Ürün listesi yüklendi, toplam 0 adet ürün bulundu.
2025-04-15 22:56:50.372 +03:00 [WRN] Ürün listesi boş! Veritabanında aktif ürün bulunamadı.
2025-04-15 22:56:50.382 +03:00 [INF] Para birimi listesi yüklendi, toplam 2 adet para birimi bulundu.
2025-04-15 22:57:40.163 +03:00 [INF] Yeni ürün oluşturma işlemi başlatılıyor: Kullanıcı=admin
2025-04-15 22:57:49.270 +03:00 [INF] Fatura oluşturma sayfası yükleniyor: Kullanıcı=admin
2025-04-15 22:57:49.274 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-15 22:57:49.276 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-15 22:57:49.290 +03:00 [INF] Ürün listesi yüklendi, toplam 1 adet ürün bulundu.
2025-04-15 22:57:49.291 +03:00 [INF] Ürün select list oluşturuldu, toplam 1 adet öğe içeriyor.
2025-04-15 22:57:49.295 +03:00 [INF] Para birimi listesi yüklendi, toplam 2 adet para birimi bulundu.
2025-04-15 22:57:49.430 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 22:57:49.444 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 22:58:04.308 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 22:58:04.324 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 22:58:44.395 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 22:58:44.423 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 23:29:54.858 +03:00 [ERR] Failed executing DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                -- Önce sistemin hangi veritabanı sürümünde olduğunu kontrol edelim
                DECLARE @IsSQLServer2016OrHigher BIT = 0;
                IF SERVERPROPERTY('ProductMajorVersion') >= 13
                    SET @IsSQLServer2016OrHigher = 1;

                -- SistemLoglar tablosunda KullaniciId sütununun var olup olmadığını kontrol et
                IF EXISTS (
                    SELECT 1 FROM sys.columns 
                    WHERE object_id = OBJECT_ID('SistemLoglar') 
                    AND name = 'KullaniciId'
                )
                BEGIN
                    -- Foreign key varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.foreign_keys 
                        WHERE parent_object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'FK_SistemLoglar_AspNetUsers_KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId;
                    END

                    -- Index varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.indexes 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'IX_SistemLoglar_KullaniciId'
                    )
                    BEGIN
                        DROP INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar;
                    END

                    -- Geçici bir tablo oluştur
                    SELECT * INTO #TempSistemLog FROM SistemLoglar WHERE 1=0;
                    
                    -- Geçici tabloya sütun ekle
                    ALTER TABLE #TempSistemLog ADD TempKullaniciId uniqueidentifier NULL;
                    
                    -- Mevcut verileri geçici tabloya kopyala, KullaniciID değerini al
                    IF (@IsSQLServer2016OrHigher = 1)
                    BEGIN
                        -- SQL Server 2016 ve üzeri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    ELSE
                    BEGIN
                        -- Daha eski SQL Server sürümleri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    
                    -- Mevcut tabloyu temizle
                    TRUNCATE TABLE SistemLoglar;
                    
                    -- Tablodan KullaniciId ve KullaniciID sütunlarını kaldır (varsa)
                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    END

                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciID'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciID;
                    END
                    
                    -- Yeni KullaniciId sütununu ekle
                    ALTER TABLE SistemLoglar ADD KullaniciId uniqueidentifier NULL;
                    
                    -- Geçici tablodan verileri geri kopyala
                    INSERT INTO SistemLoglar (
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciId
                    )
                    SELECT 
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                    FROM #TempSistemLog;
                    
                    -- Geçici tabloyu temizle
                    DROP TABLE #TempSistemLog;
                    
                    -- Foreign key ve indeksi tekrar oluştur
                    CREATE INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar(KullaniciId);
                    
                    ALTER TABLE SistemLoglar ADD CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId 
                    FOREIGN KEY (KullaniciId) REFERENCES AspNetUsers(Id);
                END
2025-04-15 23:30:17.963 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                -- Önce sistemin hangi veritabanı sürümünde olduğunu kontrol edelim
                DECLARE @IsSQLServer2016OrHigher BIT = 0;
                IF SERVERPROPERTY('ProductMajorVersion') >= 13
                    SET @IsSQLServer2016OrHigher = 1;

                -- SistemLoglar tablosunda KullaniciId sütununun var olup olmadığını kontrol et
                IF EXISTS (
                    SELECT 1 FROM sys.columns 
                    WHERE object_id = OBJECT_ID('SistemLoglar') 
                    AND name = 'KullaniciId'
                )
                BEGIN
                    -- Foreign key varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.foreign_keys 
                        WHERE parent_object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'FK_SistemLoglar_AspNetUsers_KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId;
                    END

                    -- Index varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.indexes 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'IX_SistemLoglar_KullaniciId'
                    )
                    BEGIN
                        DROP INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar;
                    END

                    -- Geçici bir tablo oluştur
                    SELECT * INTO #TempSistemLog FROM SistemLoglar WHERE 1=0;
                    
                    -- Geçici tabloya sütun ekle
                    ALTER TABLE #TempSistemLog ADD TempKullaniciId uniqueidentifier NULL;
                    
                    -- Mevcut verileri geçici tabloya kopyala, KullaniciID değerini al
                    IF (@IsSQLServer2016OrHigher = 1)
                    BEGIN
                        -- SQL Server 2016 ve üzeri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    ELSE
                    BEGIN
                        -- Daha eski SQL Server sürümleri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    
                    -- Mevcut tabloyu temizle
                    TRUNCATE TABLE SistemLoglar;
                    
                    -- Tablodan KullaniciId ve KullaniciID sütunlarını kaldır (varsa)
                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    END

                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciID'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciID;
                    END
                    
                    -- Yeni KullaniciId sütununu ekle
                    ALTER TABLE SistemLoglar ADD KullaniciId uniqueidentifier NULL;
                    
                    -- Geçici tablodan verileri geri kopyala
                    INSERT INTO SistemLoglar (
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciId
                    )
                    SELECT 
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                    FROM #TempSistemLog;
                    
                    -- Geçici tabloyu temizle
                    DROP TABLE #TempSistemLog;
                    
                    -- Foreign key ve indeksi tekrar oluştur
                    CREATE INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar(KullaniciId);
                    
                    ALTER TABLE SistemLoglar ADD CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId 
                    FOREIGN KEY (KullaniciId) REFERENCES AspNetUsers(Id);
                END
2025-04-15 23:30:35.067 +03:00 [ERR] Failed executing DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']

                -- Önce sistemin hangi veritabanı sürümünde olduğunu kontrol edelim
                DECLARE @IsSQLServer2016OrHigher BIT = 0;
                IF SERVERPROPERTY('ProductMajorVersion') >= 13
                    SET @IsSQLServer2016OrHigher = 1;

                -- SistemLoglar tablosunda KullaniciId sütununun var olup olmadığını kontrol et
                IF EXISTS (
                    SELECT 1 FROM sys.columns 
                    WHERE object_id = OBJECT_ID('SistemLoglar') 
                    AND name = 'KullaniciId'
                )
                BEGIN
                    -- Foreign key varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.foreign_keys 
                        WHERE parent_object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'FK_SistemLoglar_AspNetUsers_KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId;
                    END

                    -- Index varsa kaldır
                    IF EXISTS (
                        SELECT 1 FROM sys.indexes 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'IX_SistemLoglar_KullaniciId'
                    )
                    BEGIN
                        DROP INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar;
                    END

                    -- Geçici bir tablo oluştur
                    SELECT * INTO #TempSistemLog FROM SistemLoglar WHERE 1=0;
                    
                    -- Geçici tabloya sütun ekle
                    ALTER TABLE #TempSistemLog ADD TempKullaniciId uniqueidentifier NULL;
                    
                    -- Mevcut verileri geçici tabloya kopyala, KullaniciID değerini al
                    IF (@IsSQLServer2016OrHigher = 1)
                    BEGIN
                        -- SQL Server 2016 ve üzeri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    ELSE
                    BEGIN
                        -- Daha eski SQL Server sürümleri için
                        INSERT INTO #TempSistemLog (
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                        )
                        SELECT 
                            Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                            LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                            IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciID
                        FROM SistemLoglar;
                    END
                    
                    -- Mevcut tabloyu temizle
                    TRUNCATE TABLE SistemLoglar;
                    
                    -- Tablodan KullaniciId ve KullaniciID sütunlarını kaldır (varsa)
                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciId'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciId;
                    END

                    IF EXISTS (
                        SELECT 1 FROM sys.columns 
                        WHERE object_id = OBJECT_ID('SistemLoglar') 
                        AND name = 'KullaniciID'
                    )
                    BEGIN
                        ALTER TABLE SistemLoglar DROP COLUMN KullaniciID;
                    END
                    
                    -- Yeni KullaniciId sütununu ekle
                    ALTER TABLE SistemLoglar ADD KullaniciId uniqueidentifier NULL;
                    
                    -- Geçici tablodan verileri geri kopyala
                    INSERT INTO SistemLoglar (
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, KullaniciId
                    )
                    SELECT 
                        Id, LogID, LogTuru, Mesaj, Sayfa, OlusturmaTarihi, IslemTuru, 
                        LogTuruInt, Aciklama, HataMesaji, KullaniciAdi, IPAdresi, 
                        IslemTarihi, Basarili, TabloAdi, KayitAdi, KayitID, TempKullaniciId
                    FROM #TempSistemLog;
                    
                    -- Geçici tabloyu temizle
                    DROP TABLE #TempSistemLog;
                    
                    -- Foreign key ve indeksi tekrar oluştur
                    CREATE INDEX IX_SistemLoglar_KullaniciId ON SistemLoglar(KullaniciId);
                    
                    ALTER TABLE SistemLoglar ADD CONSTRAINT FK_SistemLoglar_AspNetUsers_KullaniciId 
                    FOREIGN KEY (KullaniciId) REFERENCES AspNetUsers(Id);
                END
2025-04-15 23:32:28.260 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 23:32:28.607 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 23:32:33.130 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 23:32:33.132 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 23:32:33.263 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 23:32:33.268 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 23:32:33.268 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 23:32:45.537 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:32:45.539 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:32:45.995 +03:00 [INF] Received HTTP response headers after 454.7336ms - 200
2025-04-15 23:32:46.000 +03:00 [INF] End processing HTTP request after 465.3597ms - 200
2025-04-15 23:32:48.865 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:32:48.865 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:32:48.969 +03:00 [INF] Received HTTP response headers after 103.6553ms - 200
2025-04-15 23:32:48.969 +03:00 [INF] End processing HTTP request after 104.2706ms - 200
2025-04-15 23:32:52.130 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 23:32:52.130 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 23:32:52.140 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 23:32:52.140 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 23:32:52.140 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 23:32:58.321 +03:00 [INF] Fatura oluşturma sayfası yükleniyor: Kullanıcı=admin
2025-04-15 23:32:58.333 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-15 23:32:58.342 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-15 23:32:58.365 +03:00 [INF] Ürün listesi yüklendi, toplam 1 adet ürün bulundu.
2025-04-15 23:32:58.366 +03:00 [INF] Ürün select list oluşturuldu, toplam 1 adet öğe içeriyor.
2025-04-15 23:32:58.374 +03:00 [INF] Para birimi listesi yüklendi, toplam 2 adet para birimi bulundu.
2025-04-15 23:32:58.550 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 23:32:58.568 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 23:34:57.107 +03:00 [INF] Veritabanına bağlantı başarılı. Migrationlar uygulanıyor...
2025-04-15 23:34:57.459 +03:00 [INF] Veritabanı işlemleri başarıyla tamamlandı.
2025-04-15 23:35:31.888 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 23:35:31.890 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 23:35:32.039 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
2025-04-15 23:35:32.043 +03:00 [ERR] Kur hesaplanırken hata oluştu: TRY -> USD
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
2025-04-15 23:35:32.044 +03:00 [ERR] Döviz kuru alınırken hata oluştu. Varsayılan değerler kullanılacak.
System.ArgumentException: Para birimi kodu bulunamadı.
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.HesaplaKurDegeriByKodAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 334
   at MuhasebeStokWebApp.Services.ParaBirimiModulu.DovizKuruServiceAdapter.GetGuncelKurAsync(String kaynakKod, String hedefKod, Nullable`1 tarih) in /Users/muhammetkocaman/MuhasebeStokWebApp/Services/ParaBirimiModulu/DovizKuruServiceAdapter.cs:line 78
   at MuhasebeStokWebApp.Controllers.HomeController.LoadDashboardDataAsync() in /Users/muhammetkocaman/MuhasebeStokWebApp/Controllers/HomeController.cs:line 307
2025-04-15 23:35:41.615 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:35:41.618 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:35:41.960 +03:00 [INF] Received HTTP response headers after 339.4046ms - 200
2025-04-15 23:35:41.972 +03:00 [INF] End processing HTTP request after 359.8667ms - 200
2025-04-15 23:36:02.774 +03:00 [INF] 0 adet para birimi ilişkisi listelendi.
2025-04-15 23:36:07.341 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:36:07.342 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:36:07.446 +03:00 [INF] Received HTTP response headers after 103.8966ms - 200
2025-04-15 23:36:07.446 +03:00 [INF] End processing HTTP request after 104.7102ms - 200
2025-04-15 23:36:09.706 +03:00 [WRN] Session bulunamadı, kullanıcı giriş yapmamış olabilir
2025-04-15 23:36:09.706 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 23:36:21.587 +03:00 [INF] Fatura oluşturma sayfası yükleniyor: Kullanıcı=admin
2025-04-15 23:36:21.604 +03:00 [INF] Cari listesi yüklendi, toplam 1 adet cari bulundu.
2025-04-15 23:36:21.615 +03:00 [INF] Sözleşme listesi yüklendi, toplam 0 adet sözleşme bulundu.
2025-04-15 23:36:21.638 +03:00 [INF] Ürün listesi yüklendi, toplam 1 adet ürün bulundu.
2025-04-15 23:36:21.639 +03:00 [INF] Ürün select list oluşturuldu, toplam 1 adet öğe içeriyor.
2025-04-15 23:36:21.647 +03:00 [INF] Para birimi listesi yüklendi, toplam 3 adet para birimi bulundu.
2025-04-15 23:36:21.804 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 23:36:21.821 +03:00 [INF] Ürün bilgileri döndürülüyor. ID=c06282c1-32b7-4aa5-b7f4-0d33cec3f173, Ad=Alt ayar mili, Birim=Adet, KDV=12, Fiyat=0
2025-04-15 23:42:45.435 +03:00 [INF] Giriş denemesi: admin
2025-04-15 23:42:45.527 +03:00 [INF] Admin kullanıcısı başarıyla giriş yaptı: admin
2025-04-15 23:42:45.527 +03:00 [INF] Admin session oluşturuldu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 23:42:45.527 +03:00 [INF] Yönlendirme adresi: /
2025-04-15 23:42:45.527 +03:00 [INF] Admin kullanıcısı / adresine yönlendiriliyor
2025-04-15 23:42:45.539 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 23:42:45.540 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 23:42:45.540 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 23:42:45.545 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 23:42:45.545 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 23:42:48.781 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 23:42:48.782 +03:00 [INF] Döviz kuru önbelleği temizleme işlemi tamamlandı
2025-04-15 23:42:48.782 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:42:48.783 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:42:49.163 +03:00 [INF] Received HTTP response headers after 380.6526ms - 200
2025-04-15 23:42:49.164 +03:00 [INF] End processing HTTP request after 381.3963ms - 200
2025-04-15 23:42:49.222 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 23:42:49.222 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 23:42:49.222 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 23:42:49.226 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 23:42:49.226 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
2025-04-15 23:42:50.485 +03:00 [INF] Döviz kuru önbelleğini temizleme işlemi başlatıldı
2025-04-15 23:42:50.485 +03:00 [INF] Döviz kuru önbelleği temizleme işlemi tamamlandı
2025-04-15 23:42:50.485 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:42:50.485 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/645b5bebcab7cef56e1b609c/latest/USD
2025-04-15 23:42:50.583 +03:00 [INF] Received HTTP response headers after 97.1704ms - 200
2025-04-15 23:42:50.583 +03:00 [INF] End processing HTTP request after 97.6502ms - 200
2025-04-15 23:42:50.628 +03:00 [INF] Aktif session bulundu: UserID=c17d5db6-d0c4-4f97-9c3e-40bc207a9f7d, UserName=admin
2025-04-15 23:42:50.628 +03:00 [INF] Admin kullanıcısı tespit edildi
2025-04-15 23:42:50.628 +03:00 [INF] Kimlik doğrulanmış kullanıcı: admin
2025-04-15 23:42:50.630 +03:00 [INF] Kur değeri önbellekten alındı: TRY -> USD
2025-04-15 23:42:50.630 +03:00 [INF] Kur değeri önbellekten alındı: UZS -> USD
