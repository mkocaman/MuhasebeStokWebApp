@using Microsoft.AspNetCore.Mvc.Localization
@using System.Globalization
@{
    var currentUser = User.Identity?.Name;
    var isAuthenticated = User.Identity?.IsAuthenticated ?? false;
    
    // KDV formatlaması için kültür ayarı
    var culture = new CultureInfo("tr-TR");
    culture.NumberFormat.CurrencyDecimalSeparator = ",";
    culture.NumberFormat.NumberDecimalSeparator = ",";
    CultureInfo.DefaultThreadCurrentCulture = culture;
    CultureInfo.DefaultThreadCurrentUICulture = culture;
}

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Muhasebe Stok Web App</title>
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="76x76" href="~/assets/images/apple-icon.png">
    <link rel="icon" type="image/png" href="~/assets/images/favicon.png">
    
    <!-- Fonts and icons -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
    
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- CSS Files -->
    <link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/assets/css/style.css" rel="stylesheet" />
    <link href="~/css/site.css" asp-append-version="true" rel="stylesheet" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap5.min.css">
    
    <!-- Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
    
    <!-- SweetAlert2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    
    <!-- Toastr -->
    <link rel="stylesheet" href="~/lib/toastr/toastr.min.css" />
    
    <!-- Feather Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.css">
    
    <!-- ApexCharts -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/apexcharts@3.35.0/dist/apexcharts.min.css">
    
    @await RenderSectionAsync("Styles", required: false)
    <style>
        /* Menü CSS'i */
        .nav-submenu {
            display: none;
        }
        
        .dropdown > a:focus + .nav-submenu,
        .dropdown > a.active + .nav-submenu {
            display: block;
        }
        
        /* Alt menüler için ek stiller */
        .nav-submenu {
            padding-left: 20px;
            list-style: none;
        }
        
        .nav-submenu li {
            padding: 5px 0;
        }
        
        .nav-submenu a {
            color: #555;
            display: block;
            padding: 8px 15px;
            text-decoration: none;
            transition: all 0.2s;
        }
        
        .nav-submenu a:hover, 
        .nav-submenu a.active {
            color: #007bff;
            background-color: rgba(0, 123, 255, 0.1);
            border-radius: 5px;
        }
        
        /* Dropdown için ek stiller */
        .dropdown > a {
            position: relative;
        }
        
        .dropdown > a::after {
            content: '\f107';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            transition: transform 0.3s;
        }
        
        .dropdown > a.active::after {
            transform: translateY(-50%) rotate(180deg);
        }
        
        .card {
            margin-bottom: 1.5rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        .card-header {
            padding: 1rem;
        }
        .info-group {
            margin-bottom: 1rem;
        }
        .info-group h6 {
            margin-bottom: 0.25rem;
            color: #6c757d;
        }
        .info-group p {
            margin-bottom: 0;
            font-size: 1rem;
        }
        .table th {
            background-color: #f8f9fa;
        }
        .btn-group .btn {
            margin-right: 0.25rem;
        }
        .alert {
            margin-bottom: 1rem;
        }
        
        /* Select2 Özelleştirmeleri */
        .select2-container--bootstrap-5 .select2-selection {
            min-height: calc(1.5em + 0.75rem + 2px);
            padding: 0.375rem 0.75rem;
        }
        
        /* DataTables Özelleştirmeleri */
        .dataTables_wrapper .dataTables_length select {
            min-width: 80px;
        }
        
        /* Toastr Özelleştirmeleri */
        #toast-container > div {
            opacity: 1;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        
        /* Loader Özelleştirmeleri */
        .loader-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .loader-p {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @@keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Dark Mode CSS */
        .dark-only {
            background-color: #1d1e26;
            color: #eaedef;
        }
        
        .dark-only .page-main-header,
        .dark-only .page-body-wrapper,
        .dark-only .footer,
        .dark-only .card,
        .dark-only .card-header,
        .dark-only .card-body {
            background-color: #1d1e26;
            color: #eaedef;
            border-color: #2c2c43;
        }
        
        .dark-only .main-nav {
            background-color: #262932;
        }
        
        .dark-only .card {
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.2);
        }
        
        .dark-only .table th,
        .dark-only .table td {
            background-color: #262932;
            color: #eaedef;
            border-color: #2c2c43;
        }
        
        .dark-only .text-dark {
            color: #eaedef !important;
        }
        
        .dark-only a {
            color: #5baf61;
        }
        
        .dark-only .btn-primary-light {
            background-color: #5baf6133;
            color: #5baf61;
        }
        
        .dark-only .widget-settings-dropdown {
            background-color: #262932;
            border-color: #2c2c43;
        }
        
        .dark-only .widget-settings-dropdown a {
            color: #eaedef;
        }
        
        .dark-only .widget-settings-dropdown a:hover {
            background-color: #1d1e26;
        }
        
        .dark-only .apexcharts-tooltip,
        .dark-only .apexcharts-menu {
            background-color: #262932 !important;
            border-color: #2c2c43 !important;
            color: #eaedef !important;
        }
        
        .dark-only .apexcharts-menu-item:hover {
            background-color: #1d1e26 !important;
        }
        
        /* Footer CSS */
        .footer {
            position: relative;
            bottom: auto;
            width: 100%;
            white-space: nowrap;
            line-height: 60px;
            background-color: #fff;
            border-top: 1px solid #e9ecef;
            text-align: center;
            z-index: 1030;
            margin-top: 30px;
        }

        /* Footer genişleme ayarı - Sidebar küçültülünce footer da genişler */
        .sidebar-close .footer {
            margin-left: 0 !important;
            width: 100% !important;
            max-width: 100% !important;
            transition: all 0.3s ease;
        }

        /* Page-body padding düzeltmesi */
        .page-body {
            padding-bottom: 20px;
        }
        
        /* Sidebar toggle ve widget ayarları için stiller */
        .sidebar-close .main-nav {
            margin-left: -280px;
            transition: all 0.3s ease;
        }
        
        .sidebar-close .page-body,
        .sidebar-close .container-fluid {
            margin-left: 0 !important;
            width: 100% !important;
            max-width: 100% !important;
            flex: 0 0 100% !important;
            transition: all 0.3s ease;
        }
        
        .sidebar-close .page-header {
            padding-left: 0;
        }
        
        .main-nav, .page-body, .container-fluid {
            transition: all 0.3s ease;
        }
        
        /* Widget ayarları için */
        .card {
            position: relative;
            border-radius: 8px;
            border: 1px solid #eaeaea;
        }
        
        .card-header {
            position: relative;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eaeaea;
            background-color: #fff;
            border-radius: 8px 8px 0 0;
        }
        
        .card-header h5 {
            margin-bottom: 0;
            font-size: 16px;
            font-weight: 600;
        }

        .card-header-right {
            position: relative;
        }
        
        .card-option {
            display: flex;
            margin-bottom: 0;
        }
        
        .card-option li {
            display: inline-block;
            margin-left: 10px;
            cursor: pointer;
        }
        
        .card-option li i {
            font-size: 16px;
            color: #6c757d;
            transition: all 0.3s ease;
        }
        
        .card-option li i:hover {
            color: #000;
        }
        
        /* Tam ekran kart stili */
        .card.full-card {
            position: fixed !important;
            top: 0;
            left: 0;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 9999;
            max-width: none !important;
            margin: 0 !important;
            background: #fff;
            border-radius: 0 !important;
            overflow-y: auto;
        }
        
        /* Küçültülmüş kart stili */
        .card.minimize-card .card-body {
            display: none;
        }
        
        /* Widget loader stili */
        .card-loader {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
            border-radius: 5px;
        }
        
        .card-loader i {
            font-size: 30px;
            color: #007bff;
        }
    </style>
</head>

<body>
    <div id="notificationContainer" class="toast-container position-fixed top-0 end-0 p-3"></div>
    <!-- Loader starts-->
    <div class="loader-wrapper">
        <div class="theme-loader">
            <div class="loader-p"></div>
        </div>
    </div>
    <!-- Loader ends-->
    
    <!-- Page wrapper starts -->
    <div class="page-wrapper compact-wrapper" id="pageWrapper">
        <!-- Page header starts -->
        <div class="page-main-header">
            <div class="main-header-right row m-0">
                <div class="main-header-left">
                    <div class="logo-wrapper">
                        <a href="/">
                            <img class="img-fluid" src="~/assets/images/logo/logo.png" alt="Logo">
                        </a>
                    </div>
                    
                        <div class="toggle-sidebar">
                            <i data-feather="align-center" id="sidebar-toggle" class="status_toggle middle"></i>
                        </div>
                    
                </div>
                <div class="nav-right col pull-right right-menu p-0">
                    <ul class="nav-menus">
                        <li>
                            <a class="text-dark" href="#!" onclick="javascript:toggleFullScreen()">
                                <i class="material-icons">fullscreen</i>
                            </a>
                        </li>
                        <!-- Dark Mode / Light Mode Toggle -->
                        <li>
                            <a class="mode text-dark" href="javascript:void(0)" title="Temayı Değiştir" style="padding: 6px 10px; border-radius: 4px; display: flex; align-items: center; justify-content: center;">
                                <i class="fa fa-moon-o" style="font-size: 22px;"></i>
                            </a>
                        </li>
                        <li class="onhover-dropdown">
                            <div class="notification-box">
                                <i class="material-icons">notifications</i>
                                <span class="dot-animated"></span>
                            </div>
                            <ul class="notification-dropdown onhover-show-div">
                                <li>
                                    <p class="f-w-700 mb-0">Bildirimler <span class="pull-right badge badge-primary badge-pill">4</span></p>
                                </li>
                                <li class="noti-primary">
                                    <div class="media">
                                        <span class="notification-bg bg-light-primary">
                                            <i class="material-icons">trending_up</i>
                                        </span>
                                        <div class="media-body">
                                            <p>Ödeme Alındı</p>
                                            <span>10 dakika önce</span>
                                        </div>
                                    </div>
                                </li>
                                <li class="noti-secondary">
                                    <div class="media">
                                        <span class="notification-bg bg-light-secondary">
                                            <i class="material-icons">check_circle</i>
                                        </span>
                                        <div class="media-body">
                                            <p>Sipariş Tamamlandı</p>
                                            <span>1 saat önce</span>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <a href="@Url.Action("Musteriler", "Cari")" class="d-flex">
                                        <i class="fa fa-user rounded-circle me-3"></i>
                                        <div class="flex-grow-1">
                                            <p>Müşteriler</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="@Url.Action("Tedarikciler", "Cari")" class="d-flex">
                                        <i class="fa fa-truck rounded-circle me-3"></i>
                                        <div class="flex-grow-1">
                                            <p>Tedarikçiler</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="onhover-dropdown p-0">
                            <a asp-controller="Account" asp-action="Logout" class="btn btn-primary-light">
                                <i class="material-icons">exit_to_app</i>Çıkış
                            </a>
                        </li>
                        <!-- Dil Seçimi -->
                        <li class="onhover-dropdown">
                            <div class="language-box">
                                <i class="material-icons">language</i>
                            </div>
                            <ul class="language-dropdown onhover-show-div">
                                <li>
                                    <form asp-controller="Language" asp-action="SetLanguage" method="post">
                                        <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
                                        <button type="submit" name="culture" value="tr-TR" class="btn btn-link">
                                            <i class="flag-icon flag-icon-tr"></i> Türkçe
                                        </button>
                                    </form>
                                </li>
                                <li>
                                    <form asp-controller="Language" asp-action="SetLanguage" method="post">
                                        <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
                                        <button type="submit" name="culture" value="en-US" class="btn btn-link">
                                            <i class="flag-icon flag-icon-us"></i> English
                                        </button>
                                    </form>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="d-lg-none mobile-toggle pull-right w-auto">
                    <i class="fa fa-ellipsis-h"></i>
                </div>
            </div>
        </div>
        <!-- Page header ends -->
        
        <!-- Page body starts -->
        <div class="page-body-wrapper sidebar-icon">
            <!-- Page sidebar starts -->
            <header class="main-nav">
                <div class="sidebar-user text-center">
                    <a class="setting-primary" href="javascript:void(0)">
                        <i class="material-icons">settings</i>
                    </a>
                    <img class="img-90 rounded-circle" src="~/assets/images/dashboard/1.png" alt="Kullanıcı">
                    <div class="badge-bottom">
                        <span class="badge badge-primary">@(User.IsInRole("Admin") ? "Yönetici" : "Kullanıcı")</span>
                    </div>
                    <a href="javascript:void(0)">
                        <h6 class="mt-3 f-14 f-w-600">@User.Identity.Name</h6>
                    </a>
                    <p class="mb-0 font-roboto">Muhasebe Departmanı</p>
                </div>
                <nav>
                    <div class="main-navbar">
                        <div class="left-arrow" id="left-arrow">
                            <i class="fa fa-arrow-left"></i>
                        </div>
                        <div id="mainnav">
                            <ul class="nav-menu custom-scrollbar">
                                <li class="back-btn">
                                    <div class="mobile-back text-end">
                                        <span>Geri</span>
                                        <i class="fa fa-angle-right ps-2" aria-hidden="true"></i>
                                    </div>
                                </li>
                                <li class="sidebar-main-title">
                                    <div>
                                        <h6>Genel</h6>
                                    </div>
                                </li>
                                
                                @if (ViewBag.MenuItems != null && ViewBag.MenuItems.Count > 0)
                                {
                                    foreach (var menuItem in ViewBag.MenuItems)
                                    {
                                        if (menuItem.AltMenuler != null && menuItem.AltMenuler.Count > 0)
                                        {
                                            <li class="dropdown">
                                                <a class="nav-link menu-title @(menuItem.Active ? "active" : "")" href="#">
                                                    @if (!string.IsNullOrEmpty(menuItem.Icon))
                                                    {
                                                        <i class="@menuItem.Icon"></i>
                                                    }
                                                    else
                                                    {
                                                        <i class="material-icons">menu</i>
                                                    }
                                                    <span>@menuItem.Ad</span>
                                                </a>
                                                <ul class="nav-submenu menu-content @(menuItem.Active ? "show" : "")">
                                                    @foreach (var subItem in menuItem.AltMenuler)
                                                    {
                                                        <li>
                                                            <a asp-controller="@subItem.Controller" asp-action="@subItem.Action" class="@(subItem.Active ? "active" : "")">
                                                                @if (!string.IsNullOrEmpty(subItem.Icon))
                                                                {
                                                                    <i class="@subItem.Icon"></i>
                                                                }
                                                                @subItem.Ad
                                                            </a>
                                                        </li>
                                                    }
                                                </ul>
                                            </li>
                                        }
                                        else
                                        {
                                            <li class="dropdown">
                                                <a class="nav-link menu-title @(menuItem.Active ? "active" : "")" asp-controller="@menuItem.Controller" asp-action="@menuItem.Action">
                                                    @if (!string.IsNullOrEmpty(menuItem.Icon))
                                                    {
                                                        <i class="@menuItem.Icon"></i>
                                                    }
                                                    else
                                                    {
                                                        <i class="material-icons">menu</i>
                                                    }
                                                    <span>@menuItem.Ad</span>
                                                </a>
                                            </li>
                                        }
                                    }
                                }
                                else
                                {
                                    <li class="dropdown">
                                        <a class="nav-link menu-title" asp-controller="Home" asp-action="Index">
                                            <i class="material-icons">dashboard</i>
                                            <span>Dashboard</span>
                                        </a>
                                    </li>
                                    <li class="dropdown">
                                        <a class="nav-link menu-title" asp-controller="Menu" asp-action="Index">
                                            <i class="material-icons">menu</i>
                                            <span>Menü Yönetimi</span>
                                        </a>
                                    </li>
                                }

                                <li class="sidebar-list">
                                    <a class="sidebar-link sidebar-title @(ViewContext.RouteData.Values["controller"].ToString() == "Home" ? "active" : "")" href="@Url.Action("Index", "Home")">
                                        <i data-feather="home"></i><span>Ana Sayfa</span>
                                    </a>
                                </li>
                                
                                <li class="sidebar-list">
                                    <a class="sidebar-link sidebar-title @(ViewContext.RouteData.Values["controller"].ToString() == "Todo" ? "active" : "")" href="@Url.Action("Index", "Todo")">
                                        <i data-feather="check-square"></i><span>Yapılacaklar</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="right-arrow" id="right-arrow">
                            <i class="fa fa-arrow-right"></i>
                        </div>
                    </div>
                </nav>
            </header>
            <!-- Page sidebar ends -->
            
            <!-- Page content starts -->
            <div class="page-body">
                <!-- Container-fluid starts -->
                <div class="container-fluid">
                    <div class="page-header">
                        <div class="row">
                            <div class="col-sm-6">
                                <h3>@ViewData["Title"]</h3>
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item">
                                        <a asp-controller="Home" asp-action="Index">
                                            <i class="fa fa-home"></i>
                                        </a>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Container-fluid ends -->
                
                <!-- Bildirim mesajları başlangıç -->
                <div class="container-fluid">
                    @if (TempData["SuccessMessage"] != null)
                    {
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            <i class="fa fa-check-circle me-2"></i> @TempData["SuccessMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }
                    
                    @if (TempData["ErrorMessage"] != null)
                    {
                        <div class="alert alert-danger alert-dismissible fade show" role="alert">
                            <i class="fa fa-exclamation-circle me-2"></i> @TempData["ErrorMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }
                    
                    @if (TempData["WarningMessage"] != null)
                    {
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                            <i class="fa fa-exclamation-triangle me-2"></i> @TempData["WarningMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }
                    
                    @if (TempData["InfoMessage"] != null)
                    {
                        <div class="alert alert-info alert-dismissible fade show" role="alert">
                            <i class="fa fa-info-circle me-2"></i> @TempData["InfoMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }
                </div>
                <!-- Bildirim mesajları bitiş -->
                
                @RenderBody()
            </div>
            <!-- Page content ends -->
            
            <!-- footer start-->
            <footer class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12 footer-copyright text-center">
                            <p class="mb-0">Copyright © @DateTime.Now.Year Muhasebe Stok Web App</p>
                        </div>
                    </div>
                </div>
            </footer>
            <!-- footer end-->
        </div>
        <!-- Page body ends -->
    </div>
    <!-- Page wrapper ends -->
    
    <!-- JavaScript files -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.35.0/dist/apexcharts.min.js"></script>
    
    <!-- DataTables -->
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js"></script>
    
    <!-- Select2 -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    
    <!-- SweetAlert2 script -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    
    <!-- SignalR -->
    <script src="~/lib/microsoft/signalr/dist/browser/signalr.min.js"></script>
    
    <!-- Toastr -->
    <script src="~/lib/toastr/toastr.min.js"></script>
    
    <!-- Feather icons -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
    <!-- Custom Scripts -->
    <script src="~/assets/js/config.js"></script>
    <script src="~/assets/js/script.js"></script>
    <script src="~/assets/js/custom-card/custom-card.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    
    @await RenderSectionAsync("Scripts", required: false)
    
    <script>
        // SweetAlert2 global ayarları - Türkçe karakter sorunu için
        document.addEventListener('DOMContentLoaded', function() {
            Swal.mixin({
                customClass: {
                    confirmButton: 'btn btn-success',
                    cancelButton: 'btn btn-danger'
                },
                buttonsStyling: false,
                allowOutsideClick: false,
                allowEscapeKey: false
            });
            
            // Feather iconlarını başlat
            feather.replace();
        });
    </script>
    
    <script>
        // Bildirim gösterme fonksiyonu - Türkçe karakter sorunu için UTF-8 ayarı
        function showNotification(title, message, type) {
            const toast = document.createElement('div');
            toast.className = `toast bg-${type === 'error' ? 'danger' : type} text-white`;
            toast.setAttribute('role', 'alert');
            toast.setAttribute('aria-live', 'assertive');
            toast.setAttribute('aria-atomic', 'true');
            toast.setAttribute('data-bs-delay', '5000');
            
            toast.innerHTML = `
                <div class="toast-header bg-${type === 'error' ? 'danger' : type} text-white">
                    <i class="material-icons me-2">${type === 'success' ? 'check_circle' : 'error'}</i>
                    <strong class="me-auto">${title}</strong>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Kapat"></button>
                </div>
                <div class="toast-body">
                    ${message}
                </div>
            `;
            
            document.getElementById('notificationContainer').appendChild(toast);
            new bootstrap.Toast(toast).show();
        }
        
        // SweetAlert2 ile bildirim gösterme - Türkçe karakter için özel ayarlar
        function showSweetAlert(title, message, type, confirmButtonText = 'Tamam') {
            return Swal.fire({
                title: title,
                html: message,
                icon: type,
                confirmButtonText: confirmButtonText,
                customClass: {
                    confirmButton: 'btn btn-' + (type === 'error' ? 'danger' : 'success'),
                },
                buttonsStyling: false
            });
        }
    </script>
    
    <!-- Success ve Error mesajlarını göster -->
    @if (TempData["SuccessMessage"] != null)
    {
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                showSweetAlert('Başarılı!', '@Html.Raw(TempData["SuccessMessage"].ToString())', 'success');
            });
        </script>
    }
    
    @if (TempData["ErrorMessage"] != null)
    {
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                showSweetAlert('Hata!', '@Html.Raw(TempData["ErrorMessage"].ToString())', 'error');
            });
        </script>
    }
    
    @if (TempData["WarningMessage"] != null)
    {
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                showSweetAlert('Uyarı!', '@Html.Raw(TempData["WarningMessage"].ToString())', 'warning');
            });
        </script>
    }
    
    @if (TempData["InfoMessage"] != null)
    {
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                showSweetAlert('Bilgi!', '@Html.Raw(TempData["InfoMessage"].ToString())', 'info');
            });
        </script>
    }
</body>
</html>
