<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>@ViewData["Title"] - Muhasebe Stok Web App</title>
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="76x76" href="~/assets/images/apple-icon.png">
    <link rel="icon" type="image/png" href="~/assets/images/favicon.png">
    
    <!-- Fonts and icons -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
    
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- CSS Files -->
    <link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/assets/css/style.css" rel="stylesheet" />
    <link href="~/css/site.css" asp-append-version="true" rel="stylesheet" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap5.min.css">
    
    <!-- Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
    
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css">
    
    <!-- Toastr -->
    <link rel="stylesheet" href="~/lib/toastr/toastr.min.css" />
    
    @await RenderSectionAsync("Styles", required: false)
    <style>
        /* Menü CSS'i */
        .nav-submenu {
            display: none;
        }
        
        .dropdown > a.active + .nav-submenu {
            display: block;
        }
        
        .card {
            margin-bottom: 1.5rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        .card-header {
            padding: 1rem;
        }
        .info-group {
            margin-bottom: 1rem;
        }
        .info-group h6 {
            margin-bottom: 0.25rem;
            color: #6c757d;
        }
        .info-group p {
            margin-bottom: 0;
            font-size: 1rem;
        }
        .table th {
            background-color: #f8f9fa;
        }
        .btn-group .btn {
            margin-right: 0.25rem;
        }
        .alert {
            margin-bottom: 1rem;
        }
        
        /* Select2 Özelleştirmeleri */
        .select2-container--bootstrap-5 .select2-selection {
            min-height: calc(1.5em + 0.75rem + 2px);
            padding: 0.375rem 0.75rem;
        }
        
        /* DataTables Özelleştirmeleri */
        .dataTables_wrapper .dataTables_length select {
            min-width: 80px;
        }
        
        /* Toastr Özelleştirmeleri */
        #toast-container > div {
            opacity: 1;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        
        /* Loader Özelleştirmeleri */
        .loader-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .loader-p {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @@keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>

<body>
    <div id="notificationContainer" class="toast-container position-fixed top-0 end-0 p-3"></div>
    <!-- Loader starts-->
    <div class="loader-wrapper">
        <div class="theme-loader">
            <div class="loader-p"></div>
        </div>
    </div>
    <!-- Loader ends-->
    
    <!-- Page wrapper starts -->
    <div class="page-wrapper compact-wrapper" id="pageWrapper">
        <!-- Page header starts -->
        <div class="page-main-header">
            <div class="main-header-right row m-0">
                <div class="main-header-left">
                    <div class="logo-wrapper">
                        <a href="/">
                            <img class="img-fluid" src="~/assets/images/logo/logo.png" alt="Logo">
                        </a>
                    </div>
                    <div class="toggle-sidebar">
                        <i class="material-icons" id="sidebar-toggle">menu</i>
                    </div>
                </div>
                <div class="nav-right col pull-right right-menu p-0">
                    <ul class="nav-menus">
                        <li>
                            <a class="text-dark" href="#!" onclick="javascript:toggleFullScreen()">
                                <i class="material-icons">fullscreen</i>
                            </a>
                        </li>
                        <li class="onhover-dropdown">
                            <div class="notification-box">
                                <i class="material-icons">notifications</i>
                                <span class="dot-animated"></span>
                            </div>
                            <ul class="notification-dropdown onhover-show-div">
                                <li>
                                    <p class="f-w-700 mb-0">Bildirimler <span class="pull-right badge badge-primary badge-pill">4</span></p>
                                </li>
                                <li class="noti-primary">
                                    <div class="media">
                                        <span class="notification-bg bg-light-primary">
                                            <i class="material-icons">trending_up</i>
                                        </span>
                                        <div class="media-body">
                                            <p>Ödeme Alındı</p>
                                            <span>10 dakika önce</span>
                                        </div>
                                    </div>
                                </li>
                                <li class="noti-secondary">
                                    <div class="media">
                                        <span class="notification-bg bg-light-secondary">
                                            <i class="material-icons">check_circle</i>
                                        </span>
                                        <div class="media-body">
                                            <p>Sipariş Tamamlandı</p>
                                            <span>1 saat önce</span>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <li class="onhover-dropdown p-0">
                            <a asp-controller="Account" asp-action="Logout" class="btn btn-primary-light">
                                <i class="material-icons">exit_to_app</i>Çıkış
                            </a>
                        </li>
                        <!-- Dil Seçimi -->
                        <li class="onhover-dropdown">
                            <div class="language-box">
                                <i class="material-icons">language</i>
                            </div>
                            <ul class="language-dropdown onhover-show-div">
                                <li>
                                    <form asp-controller="Language" asp-action="SetLanguage" method="post">
                                        <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
                                        <button type="submit" name="culture" value="tr-TR" class="btn btn-link">
                                            <i class="flag-icon flag-icon-tr"></i> Türkçe
                                        </button>
                                    </form>
                                </li>
                                <li>
                                    <form asp-controller="Language" asp-action="SetLanguage" method="post">
                                        <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
                                        <button type="submit" name="culture" value="en-US" class="btn btn-link">
                                            <i class="flag-icon flag-icon-us"></i> English
                                        </button>
                                    </form>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="d-lg-none mobile-toggle pull-right w-auto">
                    <i class="fa fa-ellipsis-h"></i>
                </div>
            </div>
        </div>
        <!-- Page header ends -->
        
        <!-- Page body starts -->
        <div class="page-body-wrapper sidebar-icon">
            <!-- Page sidebar starts -->
            <header class="main-nav">
                <div class="sidebar-user text-center">
                    <a class="setting-primary" href="javascript:void(0)">
                        <i class="material-icons">settings</i>
                    </a>
                    <img class="img-90 rounded-circle" src="~/assets/images/dashboard/1.png" alt="Kullanıcı">
                    <div class="badge-bottom">
                        <span class="badge badge-primary">@(User.IsInRole("Admin") ? "Yönetici" : "Kullanıcı")</span>
                    </div>
                    <a href="javascript:void(0)">
                        <h6 class="mt-3 f-14 f-w-600">@User.Identity.Name</h6>
                    </a>
                    <p class="mb-0 font-roboto">Muhasebe Departmanı</p>
                </div>
                <nav>
                    <div class="main-navbar">
                        <div class="left-arrow" id="left-arrow">
                            <i class="fa fa-arrow-left"></i>
                        </div>
                        <div id="mainnav">
                            <ul class="nav-menu custom-scrollbar">
                                <li class="back-btn">
                                    <div class="mobile-back text-end">
                                        <span>Geri</span>
                                        <i class="fa fa-angle-right ps-2" aria-hidden="true"></i>
                                    </div>
                                </li>
                                <li class="sidebar-main-title">
                                    <div>
                                        <h6>Genel</h6>
                                    </div>
                                </li>
                                
                                @if (ViewBag.MenuItems != null && ViewBag.MenuItems.Count > 0)
                                {
                                    foreach (var menuItem in ViewBag.MenuItems)
                                    {
                                        if (menuItem.AltMenuler != null && menuItem.AltMenuler.Count > 0)
                                        {
                                            <li class="dropdown">
                                                <a class="nav-link menu-title @(menuItem.Active ? "active" : "")" href="#">
                                                    @if (!string.IsNullOrEmpty(menuItem.Icon))
                                                    {
                                                        <i class="@menuItem.Icon"></i>
                                                    }
                                                    else
                                                    {
                                                        <i class="material-icons">menu</i>
                                                    }
                                                    <span>@menuItem.Ad</span>
                                                </a>
                                                <ul class="nav-submenu menu-content @(menuItem.Active ? "show" : "")">
                                                    @foreach (var subItem in menuItem.AltMenuler)
                                                    {
                                                        <li>
                                                            <a asp-controller="@subItem.Controller" asp-action="@subItem.Action" class="@(subItem.Active ? "active" : "")">
                                                                @if (!string.IsNullOrEmpty(subItem.Icon))
                                                                {
                                                                    <i class="@subItem.Icon"></i>
                                                                }
                                                                @subItem.Ad
                                                            </a>
                                                        </li>
                                                    }
                                                </ul>
                                            </li>
                                        }
                                        else
                                        {
                                            <li class="dropdown">
                                                <a class="nav-link menu-title @(menuItem.Active ? "active" : "")" asp-controller="@menuItem.Controller" asp-action="@menuItem.Action">
                                                    @if (!string.IsNullOrEmpty(menuItem.Icon))
                                                    {
                                                        <i class="@menuItem.Icon"></i>
                                                    }
                                                    else
                                                    {
                                                        <i class="material-icons">menu</i>
                                                    }
                                                    <span>@menuItem.Ad</span>
                                                </a>
                                            </li>
                                        }
                                    }
                                }
                                else
                                {
                                    <li class="dropdown">
                                        <a class="nav-link menu-title" asp-controller="Home" asp-action="Index">
                                            <i class="material-icons">dashboard</i>
                                            <span>Dashboard</span>
                                        </a>
                                    </li>
                                    <li class="dropdown">
                                        <a class="nav-link menu-title" asp-controller="Menu" asp-action="Index">
                                            <i class="material-icons">menu</i>
                                            <span>Menü Yönetimi</span>
                                        </a>
                                    </li>
                                }
                            </ul>
                        </div>
                        <div class="right-arrow" id="right-arrow">
                            <i class="fa fa-arrow-right"></i>
                        </div>
                    </div>
                </nav>
            </header>
            <!-- Page sidebar ends -->
            
            <!-- Page content starts -->
            <div class="page-body">
                <!-- Container-fluid starts -->
                <div class="container-fluid">
                    <div class="page-header">
                        <div class="row">
                            <div class="col-sm-6">
                                <h3>@ViewData["Title"]</h3>
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item">
                                        <a asp-controller="Home" asp-action="Index">
                                            <i class="fa fa-home"></i>
                                        </a>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Container-fluid ends -->
                
                <!-- Bildirim mesajları başlangıç -->
                <div class="container-fluid">
                    @if (TempData["SuccessMessage"] != null)
                    {
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            <i class="fa fa-check-circle me-2"></i> @TempData["SuccessMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }
                    
                    @if (TempData["ErrorMessage"] != null)
                    {
                        <div class="alert alert-danger alert-dismissible fade show" role="alert">
                            <i class="fa fa-exclamation-circle me-2"></i> @TempData["ErrorMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }
                    
                    @if (TempData["WarningMessage"] != null)
                    {
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                            <i class="fa fa-exclamation-triangle me-2"></i> @TempData["WarningMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }
                    
                    @if (TempData["InfoMessage"] != null)
                    {
                        <div class="alert alert-info alert-dismissible fade show" role="alert">
                            <i class="fa fa-info-circle me-2"></i> @TempData["InfoMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }
                </div>
                <!-- Bildirim mesajları bitiş -->
                
                @RenderBody()
            </div>
            <!-- Page content ends -->
        </div>
        <!-- Page body ends -->
        
        <!-- Footer starts -->
        <footer class="footer fixed-bottom bg-light py-3">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-6 footer-copyright">
                        <p class="mb-0">Copyright &copy; @DateTime.Now.Year Muhasebe Stok Web App</p>
                    </div>
                    <div class="col-md-6 text-end">
                        <p class="mb-0">
                            <i class="fa fa-heart"></i> ile geliştirildi, uykusuz gecelerin mahsülü.
                        </p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Footer ends -->
    </div>
    <!-- Page wrapper ends -->
    
    <!-- JavaScript files -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- DataTables -->
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js"></script>
    
    <!-- Select2 -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
    
    <!-- SignalR -->
    <script src="~/lib/microsoft/signalr/dist/browser/signalr.min.js"></script>
    
    <!-- Toastr -->
    <script src="~/lib/toastr/toastr.min.js"></script>
    
    <!-- Custom Scripts -->
    <script src="~/assets/js/config.js"></script>
    <script src="~/assets/js/script.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
