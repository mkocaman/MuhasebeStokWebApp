@model MuhasebeStokWebApp.ViewModels.Urun.UrunCreateViewModel

<div id="createFormAlert" class="alert alert-danger d-none" role="alert"></div>

<form asp-action="Create" method="post" id="createUrunForm">
    @Html.AntiForgeryToken()
    <div class="modal-body">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        
        <div class="mb-3">
            <label asp-for="UrunKodu" class="form-label"></label>
            <input asp-for="UrunKodu" class="form-control" required maxlength="50" />
            <span asp-validation-for="UrunKodu" class="text-danger"></span>
        </div>
        
        <div class="mb-3">
            <label asp-for="UrunAdi" class="form-label"></label>
            <input asp-for="UrunAdi" class="form-control" required maxlength="200" />
            <span asp-validation-for="UrunAdi" class="text-danger"></span>
        </div>
        
        <div class="mb-3">
            <label asp-for="KategoriID" class="form-label"></label>
            <select asp-for="KategoriID" asp-items="ViewBag.Kategoriler" class="form-select" required>
                <option value="">-- Kategori Seçin --</option>
            </select>
            <span asp-validation-for="KategoriID" class="text-danger"></span>
        </div>
        
        <div class="mb-3">
            <label asp-for="BirimID" class="form-label"></label>
            <select asp-for="BirimID" asp-items="ViewBag.Birimler" class="form-select" required>
                <option value="">-- Birim Seçin --</option>
            </select>
            <span asp-validation-for="BirimID" class="text-danger"></span>
        </div>
        
        <div class="mb-3">
            <label asp-for="KDVOrani" class="form-label"></label>
            <input asp-for="KDVOrani" type="number" step="0.01" min="0" max="100" class="form-control" value="18" required />
            <span asp-validation-for="KDVOrani" class="text-danger"></span>
        </div>
        
        <div class="mb-3">
            <label asp-for="Aciklama" class="form-label"></label>
            <textarea asp-for="Aciklama" class="form-control" rows="3"></textarea>
            <span asp-validation-for="Aciklama" class="text-danger"></span>
        </div>
        
        <div class="form-check mb-3">
            <input type="checkbox" class="form-check-input" asp-for="Aktif" checked />
            <label class="form-check-label" asp-for="Aktif"></label>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">İptal</button>
        <button type="submit" class="btn btn-primary">Kaydet</button>
    </div>
</form>

<script>
    // Form doğrulama için
    $(function() {
        $("#createUrunForm").validate({
            rules: {
                UrunKodu: {
                    required: true,
                    maxlength: 50
                },
                UrunAdi: {
                    required: true,
                    maxlength: 200
                },
                KategoriID: {
                    required: true
                },
                BirimID: {
                    required: true
                },
                KDVOrani: {
                    required: true,
                    number: true,
                    range: [0, 100]
                }
            },
            messages: {
                UrunKodu: {
                    required: "Ürün kodu zorunludur.",
                    maxlength: "Ürün kodu en fazla 50 karakter olabilir."
                },
                UrunAdi: {
                    required: "Ürün adı zorunludur.",
                    maxlength: "Ürün adı en fazla 200 karakter olabilir."
                },
                KategoriID: {
                    required: "Kategori seçimi zorunludur."
                },
                BirimID: {
                    required: "Birim seçimi zorunludur."
                },
                KDVOrani: {
                    required: "KDV oranı zorunludur.",
                    number: "Geçerli bir sayı giriniz.",
                    range: "KDV oranı 0-100 arasında olmalıdır."
                }
            },
            errorElement: "div",
            errorClass: "invalid-feedback",
            highlight: function(element) {
                $(element).addClass("is-invalid").removeClass("is-valid");
            },
            unhighlight: function(element) {
                $(element).addClass("is-valid").removeClass("is-invalid");
            }
        });
    });
</script> 