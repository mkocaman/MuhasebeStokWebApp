<!-- Kur Değeri Ekle Form Sayfası -->
<div class="container">
    <h2>Kur Değeri Ekle</h2>
    
    <form asp-action="Ekle" asp-controller="DovizKuru" method="post">
        <div class="form-group">
            <label for="KaynakParaBirimiID">Kaynak Para Birimi</label>
            <select id="KaynakParaBirimiID" name="KaynakParaBirimiID" class="form-control">
                <option value="D6699DE7-60FF-4717-BDEF-39826FD47877">USD - Amerikan Doları</option>
                <option value="11632399-CDCC-46FA-9AB6-72957FBB84AF">TRY - Türk Lirası</option>
                <option value="9C7D3279-BCBE-489D-BA5A-B759C46F25DD">EUR - Euro</option>
                <option value="95D5AFFA-CDB2-43ED-AB4B-D334EEB689D8">GBP - İngiliz Sterlini</option>
                <option value="55ADAEEA-37A9-4F45-BD46-15060942D538">UZS - Özbekistan Somu</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="HedefParaBirimiID">Hedef Para Birimi</label>
            <select id="HedefParaBirimiID" name="HedefParaBirimiID" class="form-control">
                <option value="11632399-CDCC-46FA-9AB6-72957FBB84AF">TRY - Türk Lirası</option>
                <option value="D6699DE7-60FF-4717-BDEF-39826FD47877">USD - Amerikan Doları</option>
                <option value="9C7D3279-BCBE-489D-BA5A-B759C46F25DD">EUR - Euro</option>
                <option value="95D5AFFA-CDB2-43ED-AB4B-D334EEB689D8">GBP - İngiliz Sterlini</option>
                <option value="55ADAEEA-37A9-4F45-BD46-15060942D538">UZS - Özbekistan Somu</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="KurDegeri">Kur Değeri</label>
            <input type="number" id="KurDegeri" name="KurDegeri" class="form-control" step="0.000001" required />
            <small class="form-text text-muted">Örnek: 1 USD = 32.5 TRY için 32.5 giriniz</small>
        </div>
        
        <div class="form-group">
            <label for="AlisFiyati">Alış Fiyatı</label>
            <input type="number" id="AlisFiyati" name="AlisFiyati" class="form-control" step="0.000001" />
        </div>
        
        <div class="form-group">
            <label for="SatisFiyati">Satış Fiyatı</label>
            <input type="number" id="SatisFiyati" name="SatisFiyati" class="form-control" step="0.000001" />
        </div>
        
        <div class="form-group">
            <label for="Tarih">Tarih</label>
            <input type="datetime-local" id="Tarih" name="Tarih" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-ddTHH:mm")" required />
        </div>
        
        <div class="form-group">
            <label for="Kaynak">Kaynak</label>
            <input type="text" id="Kaynak" name="Kaynak" class="form-control" value="Manuel" required />
        </div>
        
        <div class="form-group">
            <label for="Aciklama">Açıklama</label>
            <textarea id="Aciklama" name="Aciklama" class="form-control" rows="3">Manuel olarak eklendi</textarea>
        </div>
        
        <!-- Gizli alanlar -->
        <input type="hidden" name="Aktif" value="true" />
        <input type="hidden" name="SoftDelete" value="false" />
        
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Kaydet</button>
            <a asp-action="Liste" class="btn btn-secondary">Kur Yönetimine Dön</a>
        </div>
    </form>
</div>

<!-- 
Not: Bu form, çalışan bir MVC projesi için tasarlanmıştır.
Kullanım için sayfayı şu şekilde yerleştirin:

1. Views/DovizKuru/Ekle.cshtml dosyasına bu kodu kopyalayın
2. Controller tarafında KaynakParaBirimiID ve HedefParaBirimiID'nin uniqueidentifier olarak alındığından emin olun

Model sınıfı örneği:

public class DovizKuruEkleViewModel
{
    public Guid KaynakParaBirimiID { get; set; }
    public Guid HedefParaBirimiID { get; set; }
    public decimal KurDegeri { get; set; }
    public decimal? AlisFiyati { get; set; }
    public decimal? SatisFiyati { get; set; }
    public DateTime Tarih { get; set; }
    public string Kaynak { get; set; }
    public string Aciklama { get; set; }
    public bool Aktif { get; set; } = true;
    public bool SoftDelete { get; set; } = false;
}

Controller örneği:

[HttpPost]
public async Task<IActionResult> Ekle(DovizKuruEkleViewModel model)
{
    if (ModelState.IsValid)
    {
        var dovizKuru = new DovizKuru
        {
            DovizKuruID = Guid.NewGuid(),
            KaynakParaBirimiID = model.KaynakParaBirimiID,
            HedefParaBirimiID = model.HedefParaBirimiID,
            KurDegeri = model.KurDegeri,
            AlisFiyati = model.AlisFiyati,
            SatisFiyati = model.SatisFiyati,
            Tarih = model.Tarih,
            Kaynak = model.Kaynak,
            Aciklama = model.Aciklama,
            Aktif = model.Aktif,
            SoftDelete = model.SoftDelete,
            OlusturmaTarihi = DateTime.Now
        };
        
        _context.DovizKurlari.Add(dovizKuru);
        await _context.SaveChangesAsync();
        
        return RedirectToAction("Liste");
    }
    
    return View(model);
}
--> 